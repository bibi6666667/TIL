**[210324]**



- ì˜¤ëŠ˜ í•œ ì¼

  - ì•„ì¹¨ ìŠ¤í¬ëŸ¼ (ê¹ƒí—™ ì´ìŠˆ, ìœ„í‚¤ ì‚¬ìš©ë²• êµ¬ê²½)
  - ë¯¸ì…˜2 í”¼ë“œë°± ì‚¬í•­ ìˆ˜ì • (ì§ì½”ë”©)
  - ë¯¸ì…˜2 ë‹¤ì‹œ PR
  - ë¯¸ì…˜3 ì¼ë¶€ ì§„í–‰ (ì§ì½”ë”©)
  - ë¯¸ì…˜3 ë™ì˜ìƒ ê°•ì˜ ì¡°ê¸ˆ í•™ìŠµ
  - ì•Œë°”ğŸ§

- ë°°ìš´ ì 

  - Optional - orElseThrow()ì‚¬ìš©ë²•
  - ìŠ¤í”„ë§ì—ì„œ @ControllerAdvice, @ExceptionHandlerë¥¼ í†µí•œ ì˜ˆì™¸ ì„ ì–¸ ë° ì²˜ë¦¬ ë°©ë²•

- ê°œì„ í•  ì 

  - ê·¸ë˜ë„ ì´ ì •ë„ë©´ ì—´ì‹¬íˆ ì‚´ì•˜ë‹¤..ã…‹ã…‹ã…‹
  - ì§ì½”ë”© ì¢€ ë” ì§‘ì¤‘í•´ì„œ í•˜ì(+ ì˜ˆìŠµë„ ì—´ì‹¬íˆ í•˜ì)

  

## ì•„ì¹¨ ìŠ¤í¬ëŸ¼

ë§ˆì¼ìŠ¤í†¤ : í”„ë¡œì íŠ¸ë¥¼ ìœ„í•œ ì´ì •í‘œ? ê°™ì€ ê²ƒì´ë‹¤. ë¯¸ì…˜ì„ ì–¼ë§ˆë‚˜ ìˆ˜í–‰í–ˆëŠ”ì§€ ì•Œë ¤ì¤€ë‹¤

---

## [ë¯¸ì…˜2 í”¼ë“œë°±](https://github.com/codesquad-members-2021/spring-boot-qna/pull/108#event-4499823673)

### Optional

> Optional ì‚¬ìš©ë²•ì€ ê²€ìƒ‰í•˜ë©´ ì—„ì²­ ë§ì´ ë‚˜ì˜¤ëŠ”ë°ìš”~ í•˜ë‚˜ë§Œ ê°€ì ¸ì™€ ë´¤ìŠµë‹ˆë‹¤.
> https://mangkyu.tistory.com/70
>
> ì œê°€ ìƒê°í•˜ëŠ” íŒì€ Optional ì´ ì–´ë–¤ ë©”ì„œë“œê°€ ìˆëŠ”ì§€ . ë§Œ ì°ì–´ë„ IDEì—ì„œ ìƒì„¸íˆ ì•Œë ¤ì¤„í…ë° ë©”ì„œë“œì˜ Input, Output íƒ€ì…ì´ ì–´ë–¤ê±´ì§€ë¥¼ ì˜ ì‚´í´ë³´ë©´ ë„ì›€ì´ ë ê²ë‹ˆë‹¤!

[ì´ë…¸ ì¶”ì²œ ë§í¬](http://homoefficio.github.io/2019/10/03/Java-Optional-%EB%B0%94%EB%A5%B4%EA%B2%8C-%EC%93%B0%EA%B8%B0/)

> Optional ì—ì„œ ë°”ë¡œ get() ì„ í˜¸ì¶œí•˜ì§€ ì•Šë„ë¡ í•´ ì£¼ì„¸ìš”
>
> Optional íƒ€ì…ì„ ë°›ì•„ì™”ìœ¼ë‹ˆ orElseThrow ë“±ìœ¼ë¡œ ê°’ì´ ì—†ì„ ë•Œ ì²˜ë¦¬ë¥¼ í•´ ì£¼ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.^^
> ì²˜ìŒì—ëŠ” ì‚¬ìš©ë²•ì´ ì–´ë ¤ìš¸ ìˆ˜ ìˆëŠ”ë° map, flatMap ë“±ë³´ë‹¤ëŠ”
> **orElseThrow, ifPresent** ì •ë„ë§Œ ì¨ì„œ ì—†ì„ë•Œ, ìˆì„ë•Œ ì²˜ë¦¬ë§Œ í•´ë³´ëŠ” ê²ƒìœ¼ë¡œ ì‹œì‘í•˜ì…¨ìŒ í•˜ë„¤ìš”~

---

### ìŠ¤í”„ë§ static ë³€ìˆ˜

> í¬ë©§ì„ ì ìš©í•œ DateTimeFormatter ê¹Œì§€ ì»¨íŠ¸ë¡¤ëŸ¬ì˜ static ë³€ìˆ˜ë¡œ ì„ ì–¸í•´ì„œ ì“°ëŠ”ê²ƒì€ ì–´ë–¨ê¹Œìš”?
> newQuestioní• ë•Œë§ˆë‹¤ í¬ë©§í„°ë¥¼ ë§Œë“¤ì§€ ì•Šê³  ë¯¸ë¦¬ ë§Œë“¤ì–´ì ¸ ìˆëŠ” í¬ë©§í„°ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ë¹„ìš©ì„ ì¡°ê¸ˆ ì•„ë‚„ ìˆ˜ ìˆì„ ê²ƒ ê°™ë„¤ìš”~
>
> í•˜ì§€ë§Œ **String, primitive type ì´ ì•„ë‹Œ í´ë˜ìŠ¤ë¥¼ ìŠ¤í”„ë§ ë¹ˆì˜ ì •ì  ë³€ìˆ˜ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ê¼­ ê·¸ ê°ì²´ê°€ thread safe í•œì§€ ì°¾ì•„ë³¸ í›„ ê²°ì •í•´ì•¼ í•©ë‹ˆë‹¤.**
>
> **ë‹¤í–‰íˆ DateTimeFormatterëŠ” thread-safe í•˜ë‹¤ê³  ë‚˜ì™€ ìˆë„¤ìš”~**
> https://www.callicoder.com/java-simpledateformat-thread-safety-issues/
> ì˜ í•˜ë‹¨ My Advice ì°¸ê³  ë¶€íƒë“œë ¤ìš”

â†’ ìŠ¤í”„ë§ ë¹ˆì˜ staticë³€ìˆ˜ë¡œ ë“±ë¡í•´ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ê·¸ ê°ì²´ê°€ thread-safeí•œì§€ í™•ì¸í•´ì•¼ í•œë‹¤.

â†’ `DateTimeFormatter`ê°€ ë” ì¢‹ê³  thread-safeí•˜ë‹ˆ, `SimpleDateFormat`ì€ ì‚¬ìš©í•˜ì§€ ë§ì•„ë¼.

â†’ ë” ì¢‹ì€ `LocalDateTime`ì´ ìˆìœ¼ë‹ˆ,  `Date`, `Calender`ëŠ” ì‚¬ìš©í•˜ì§€ ë§ì•„ë¼.

---

### URLì—ëŠ” ë‹¨ìˆ˜í˜•ë³´ë‹¤ ë³µìˆ˜í˜•ìœ¼ë¡œ (ì§ˆë¬¸ ì¤‘)

```java
@RequestMapping("/user")
```

>ë‹¨ìˆ˜ë³´ë‹¤ëŠ” ë³µìˆ˜í˜•ì´ ê¶Œì¥ë©ë‹ˆë‹¤.^^

> `user`->`users` ë¡œ URL ìˆ˜ì •í•˜ê² ìŠµë‹ˆë‹¤!
> ê·¸ëŸ°ë° í˜¹ì‹œ, URLì— ë‹¨ìˆ˜í˜•ë³´ë‹¤ ë³µìˆ˜í˜•ì„ ì‚¬ìš©í–ˆì„ ë•Œì˜ íŠ¹ë³„í•œ ì´ì ì´ ìˆë‚˜ìš”? ë³µìˆ˜í˜• `users`ë¡œ ì‚¬ìš©í•˜ë©´ íšŒì›ëª©ë¡ì€ `/users`ë¡œ ìì—°ìŠ¤ëŸ½ì§€ë§Œ, ë‚˜ë¨¸ì§€ URLë“¤ (íšŒì›ê°€ì…`/users/signup`, íšŒì›ì •ë³´ ìˆ˜ì •ì€ `/users/{id}`..)ì€ ì—¬ëŸ¬ íšŒì›ë“¤ì„ íšŒì›ê°€ì…/ìˆ˜ì •í•˜ëŠ” ê²ƒ ê°™ì€ ì˜ë¯¸ê°€ ë˜ì–´ë²„ë ¤ì„œ ì¼ë¶€ëŸ¬ `user`ë¥¼ ì‚¬ìš©í–ˆì—ˆê±°ë“ ìš”. ğŸ¤” ì¡°ì–¸ ì£¼ì‹œë©´ ê°ì‚¬ë“œë¦¬ê² ìŠµë‹ˆë‹¤ğŸ˜€

---

### ìŠ¤í”„ë§ì—ì„œ ì˜ˆì™¸ ì„ ì–¸í•˜ê³  ì‚¬ìš©í•˜ê¸°(@ControllerAdvice, @ExceptionHandler)

ì§ì ‘ ì˜ˆì™¸ë¥¼ ì„ ì–¸í•´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ ì‚¬ìš©ì/ì§ˆë¬¸ì´ ì¡´ì¬í•˜ì§€ ì•Šì„ ë•Œ ë°œìƒí•  ì˜ˆì™¸ë¥¼ ë§Œë“¤ì–´ ë³¸ë‹¤.

`UserNotFoundException`

```java
public class UserNotFoundException extends RuntimeException {
    public UserNotFoundException() {
        super("í•´ë‹¹ ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
    }
}
```

`QuestionNotFoundException`

```java
public class QuestionNotFoundException extends RuntimeException {
    public QuestionNotFoundException() {
        super("í•´ë‹¹ ì§ˆë¬¸ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤");
    }
}
```

`GlobalExceptionHandler`

```java
import org.springframework.web.bind.annotation.ControllerAdvice;
import org.springframework.web.bind.annotation.ExceptionHandler;

@ControllerAdvice
public class GlobalExceptionHandler{

    @ExceptionHandler({UserNotFoundException.class, QuestionNotFoundException.class})
    private String handleQuestionNotFoundException() {
        return "redirect:/questions";
    }
}
```

- `@ControllerAdvice`

  : @ExceptionHandlerê°€ í•˜ë‚˜ì˜ í´ë˜ìŠ¤ì— ëŒ€í•œ ê²ƒì´ë¼ë©´, @ControllerAdviceëŠ” ëª¨ë“  @Controller ì¦‰, ì „ì—­ì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì˜ˆì™¸ë¥¼ ì¡ì•„ ì²˜ë¦¬í•´ì£¼ëŠ” ì–´ë…¸í…Œì´ì…˜ì´ë‹¤.

  - ìƒˆë¡œìš´ í´ë˜ìŠ¤íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ annotationì„ ë¶™ì´ê³ , @ExceptionHandlerë¡œ ì²˜ë¦¬í•˜ê³  ì‹¶ì€ ì˜ˆì™¸ë¥¼ ì¡ì•„ ì²˜ë¦¬í•œë‹¤.

  - ë³„ë„ì˜ ì†ì„±ê°’ì´ ì—†ì´ ì‚¬ìš©í•˜ë©´ ëª¨ë“  íŒ¨í‚¤ì§€ ì „ì—­ì— ìˆëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë‹´ë‹¹í•˜ê²Œ ëœë‹¤.

- `@ExceptionHandler`

  : @Controller, @RestControllerê°€ ì ìš©ëœ Beanë‚´ì—ì„œ ë°œìƒí•˜ëŠ” ì˜ˆì™¸ë¥¼ ì¡ì•„ì„œ í•˜ë‚˜ì˜ ë©”ì„œë“œì—ì„œ ì²˜ë¦¬í•´ì£¼ëŠ” ê¸°ëŠ¥ì„ í•œë‹¤.

  - ì–´ë–¤ ìš”ì²­ì„ ì²˜ë¦¬í•˜ë‹¤ê°€ ì˜ˆì™¸ë“¤ì´ ë°œìƒí–ˆì„ ë•Œ ì§ì ‘ ì •ì˜í•œ í•¸ë“¤ëŸ¬ë¥¼ í†µí•´ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•´ì„œ ì‘ë‹µí•  ìˆ˜ ìˆë‹¤.

  - ì¸ìë¡œ ìºì¹˜í•˜ê³  ì‹¶ì€ ì˜ˆì™¸í´ë˜ìŠ¤ë¥¼ ë“±ë¡í•œë‹¤.
  - ì–´ë…¸í…Œì´ì…˜ì— ì„ ì–¸ëœ ì˜ˆì™¸(`.class`)ê°€ ë°œìƒí–ˆì„ ë•Œ ì‹¤í–‰í•  ë©”ì„œë“œë¥¼ ì´ ì•„ë˜ì— ì •ì˜í•œë‹¤.
  - ì—¬ëŸ¬ ì˜ˆì™¸ë¥¼ í•œ ë²ˆì— ì„ ì–¸í•  ë•ŒëŠ” ì˜ˆì™¸ë“¤ì„  `{}`ë¡œ ë¬¶ì–´ ì¤€ë‹¤.

> ì°¸ê³  : [ê¸°ë³¸ê¸°ë¥¼ ìŒ“ëŠ” ì •ì•„ë§ˆì¶”ì–´ ì½”ë”©ë¸”ë¡œê·¸](https://jeong-pro.tistory.com/195)



## ë¯¸ì…˜3 ì˜ìƒ ë³´ë©° í•™ìŠµí•˜ê¸°

### 4-3 ìì‹ ì— í•œí•´ ê°œì¸ì •ë³´ ìˆ˜ì •

`Object value = session.getAttribute("sessionedUser");`

- sessionì—ì„œ ê°’ì„ êº¼ë‚´ ì˜¤ë©´ ê¸°ë³¸ì ìœ¼ë¡œ `Object`íƒ€ì…ì´ê¸° ë•Œë¬¸ì— ì›í•˜ëŠ” íƒ€ì…ìœ¼ë¡œ í˜•ë³€í™˜ì„ í•´ì•¼ í•œë‹¤.

.. ë³´ëŠ” ì¤‘..



---

---



## Todo - ë‚´ì¼

- ì»¤ë°‹ ì»¨ë²¤ì…˜ ì •í•˜ê¸°
- ìˆ˜ì—… ë“£ê¸°
- ë™ì˜ìƒ ë§ˆì € ë‹¤ ë³´ê¸°
- ì§ˆë¬¸ ê¸°ëŠ¥ë“¤ êµ¬í˜„í•˜ê¸°(ë¯¸ì…˜3ë‚¨ì€ ê±°)



## Todo Queue

- Optional
  - https://mangkyu.tistory.com/70 
  - [ì´ë…¸ ì¶”ì²œ ë§í¬](http://homoefficio.github.io/2019/10/03/Java-Optional-%EB%B0%94%EB%A5%B4%EA%B2%8C-%EC%93%B0%EA%B8%B0/)
- [í´ë¼ìš°ë“œì™€ AWSê°•ì˜](https://www.inflearn.com/course/aws-starter/dashboard) ë“£ê¸°
  - ìƒˆë¡œ ì—…ë¡œë“œí•˜ì‹¤ ê°•ì˜ë„ ë“£ê¸°!
- Logger, LoggerFactory ê³µë¶€í•´ì„œ ì‚¬ìš©í•˜ê¸°(ë£¨ì¹´ìŠ¤ 'ë¡œê¹… ë¼ì´ë¸ŒëŸ¬ë¦¬'ì°¸ê³ )
- ìŠ¤í”„ë§ ì˜ˆì™¸ì²˜ë¦¬ ê³µë¶€í•´ì„œ ì‚¬ìš©í•˜ê¸°
- ìŠ¤í”„ë§MVCêµ¬ì¡° ë° Model, Domainì— ëŒ€í•´ ì•„ë˜ ë§í¬ ì°¸ê³ í•´ì„œ ë” ê³µë¶€í•˜ê¸°.
  - [What is the difference between an MVC Model object, a domain object and a DTO](https://stackoverflow.com/questions/3853749/what-is-the-difference-between-an-mvc-model-object-a-domain-object-and-a-dto)
  - [Spring MVC êµ¬ì¡°ì— ëŒ€í•œ ì¢‹ì€ ê·¸ë¦¼ê³¼ ì„¤ëª…](https://justforchangesake.wordpress.com/2014/05/07/spring-mvc-request-life-cycle/)
- (í˜¸ëˆ…ìŠ¤ì¶”ì²œ) ë°±ì¤€ - ê´€ì¤‘ì„ ë¬¸ì œ

