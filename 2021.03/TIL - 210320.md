**[210320]**



- ì˜¤ëŠ˜ í•œ ì¼
  - ì•Œë°” ë‹¤ì‹œ ì‹œì‘ (í˜ë“¤ë‹¤)
  - í‡´ê·¼í•˜ê³  ì™€ì„œ ë°€ë¦° TODO ì¡°ê¸ˆ ê³µë¶€
  - ì˜ì–´ìë£Œë¥¼ ë³´ëŠ” ê²Œ ì •í™•í•˜ë‹¤ê³  í•´ì„œ, í•œê¸€ ìë£Œë¥¼ ì°¸ê³ í•˜ë”ë¼ë„ ì˜ì–´ ìë£Œë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ê³µë¶€í•˜ë„ë¡ ë…¸ë ¥í•´ ë³´ì•˜ë‹¤.
- ë°°ìš´ ì 
  - JpaRepositoryì™€ CrudRepositoryì˜ ì°¨ì´
  - CrudRepositoryì˜ ì£¼ìš” ë©”ì„œë“œ
  - ë™ì‹œì„± ( vs ë³‘ë ¬ì„±, ë¹„ë™ê¸°í”„ë¡œê·¸ë˜ë°)
- ê°œì„ í•  ì 
  - ì»¨ë””ì…˜ ì¡°ì ˆ ì‹¤íŒ¨(+ì•Œë°”)ë¡œ ê³µë¶€ì‹œê°„ì´ ë§ì§€ ì•Šì•˜ë‹¤ 
  - ê³µë¶€ë§Œ í•˜ê³  ì½”ë”©ì„ ëª» í–ˆë‹¤
  - ìˆ˜ë©´ì‹œê°„ ì˜ ì±™ê¸°ê³  ì˜ì–‘ì œ ì˜ ì±™ê²¨ë¨¹ê³  ìš´ë™í•˜ì..



## [JPA] JpaRepositoryì™€ CrudRepositoryì˜ ì°¨ì´

> ì¶œì²˜ : [stackoverflow](https://stackoverflow.com/questions/14014086/what-is-difference-between-crudrepository-and-jparepository-interfaces-in-spring), [ë¸”ë¡œê·¸](https://blog.naver.com/PostView.nhn?blogId=writer0713&logNo=221587319282&redirect=Dlog&widgetTypeCall=true&directAccess=false). ê°ì‚¬í•©ë‹ˆë‹¤ğŸ™‡â€â™€ï¸

ë‘˜ ë‹¤ `Repository`ë¥¼ í™•ì¥í•œ ''ì¸í„°í˜ì´ìŠ¤''ë¼ëŠ” ê³µí†µì ì´ ìˆë‹¤.

### CrudRepository

- CRUDê¸°ëŠ¥ì„ ì£¼ë¡œ ì œê³µí•œë‹¤

### JpaRepository

- `JpaRepository`ëŠ” `CrudRepository`ì™€ `PagingAndSortingRepository`ë¥¼ `extends`í•œ ì¸í„°í˜ì´ìŠ¤ì´ë‹¤.
- `CrudRepository`(CRUD)ì™€ `PagingAndSortingRepository`(í˜ì´ì§• ë° ì •ë ¬)ê°€ ì œê³µí•˜ëŠ” ëª¨ë“  ê¸°ëŠ¥ì„ ì œê³µí•˜ê³ , ì¶”ê°€ì ìœ¼ë¡œ JPAì— íŠ¹í™”ëœ ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤.

### ê²°ë¡ 

- ë‹¨ìˆœ CRUDì‘ì—…ë§Œ í•œë‹¤ë©´ CrudRepositoryë¥¼ ì‚¬ìš©í•œë‹¤.
- CRUDì‘ì—…ì— ë”í•´ í˜ì´ì§•, sorting, jpaê¸°ëŠ¥ ë“±ì„ ì‚¬ìš©í•˜ë ¤ë©´ JpaRepositoryë¥¼ ì‚¬ìš©í•œë‹¤.



## [JPA] CrudRepositoryì™€ ë©”ì„œë“œ

> ì¶œì²˜ : [Spring docs](https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html)

### CrudRepository

- CRUD ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ì¸í„°í˜ì´ìŠ¤.
- `org.springframework.data.repository`
- ì¸í„°í˜ì´ìŠ¤ `Repository`ë¥¼ í™•ì¥í•¨.

- ì‚¬ìš©

  ```java
  @Repository
  public interface PersonRepository extends CrudRepository<Person, Long> {
  	// ...
  }
  ```

### CrudRepositoryì˜ ë©”ì„œë“œ

- `long count()`
  - ê°€ìš© entityì˜ ìˆ˜ë¥¼ ë°˜í™˜í•¨
  - ë¦¬í¬ì§€í† ë¦¬ì˜ ë°ì´í„° ê°œìˆ˜ í™•ì¸

#### Delete

- `void delete(T entity)`
  - ì£¼ì–´ì§„ entityë¥¼ ì‚­ì œí•¨
  - entityê°€ nullì´ë©´ `IllegalArgumentException`ì„ ë˜ì§
- `void deleteById(ID id)`
  - ì£¼ì–´ì§„ idë¥¼ ê°€ì§„ ì—”í‹°í‹°ë¥¼ ì‚­ì œí•¨
  - idê°€ nullì´ë©´ `IllegalArgumentException`ì„ ë˜ì§
- `void deleteAll()`
  - ë¦¬í¬ì§€í† ë¦¬ì— ì˜í•´ ê´€ë¦¬ë˜ëŠ” ëª¨ë“  ì—”í‹°í‹°ë¥¼ ì‚­ì œí•¨
- `void deleteAll(Iterable<? extends T> entities)`
  - ì£¼ì–´ì§„ ì—”í‹°í‹°ë“¤ì„ ì‚­ì œí•¨
  - entities ë° entitiesë“¤ ì¤‘ í•˜ë‚˜ë¼ë„ nullì´ì–´ì„œëŠ” ì•ˆ ë¨
  - entities ë° entitiesë“¤ ì¤‘ í•˜ë‚˜ë¼ë„ nullì´ë©´  `IllegalArgumentException`ì„ ë˜ì§

#### Read (ì¡°íšŒ)

- `Iterable<T> findById(ID id)`
  - ì£¼ì–´ì§„ idë¡œ ì—”í‹°í‹°ë¥¼ ê²€ìƒ‰í•¨
  - ë°˜í™˜ : í•´ë‹¹ idì˜ ì—”í‹°í‹°. (ê²€ìƒ‰ê²°ê³¼ê°€ ì—†ë‹¤ë©´ `Optional#empty()`ë°˜í™˜)
  - idê°€ nullì´ë©´ `IllegalArgumentException`ì„ ë˜ì§

- `boolean existsById(ID id)`
  - ì£¼ì–´ì§„ idë¥¼ ê°€ì§„ ì—”í‹°í‹°ê°€ ì¡´ì¬í•˜ëŠ”ì§€ ë°˜í™˜í•¨
  - ë°˜í™˜ : ì¡´ì¬í•˜ë©´ true, ì•„ë‹ˆë©´ false
  - idê°€ nullì´ë©´ `IllegalArgumentException`ì„ ë˜ì§

- `Iterable<T> findAll()`
  - ë¦¬í¬ì§€í† ë¦¬ì˜ ëª¨ë“  ì¸ìŠ¤í„´ìŠ¤(ì—”í‹°í‹°)ë¥¼ ë°˜í™˜í•¨ (`Iterable<T>`íƒ€ì…ìœ¼ë¡œ)
- `Iterable<T> findAllById(Iterable<ID> ids)`
  - ë¦¬í¬ì§€í† ë¦¬ì—ì„œ Tíƒ€ì…ì´ë©´ì„œ ì£¼ì–´ì§„ IDë“¤ì— í•´ë‹¹í•˜ëŠ” ëª¨ë“  ì¸ìŠ¤í„´ìŠ¤ë¥¼ Tíƒ€ì…ìœ¼ë¡œ ë°˜í™˜í•¨
  - ë¦¬í„´ë˜ëŠ” ìš”ì†Œë“¤ì˜ ìˆœì„œëŠ” ë³´ì¥ë˜ì§€ ì•ŠìŒ.
  - ì–´ë–¤ idë„ ë°œê²¬ë˜ì§€ ì•Šìœ¼ë©´, ì–´ë–¤ ì—”í‹°í‹°ë„ ë°˜í™˜ë˜ì§€ ì•ŠìŒ.
  - íŒŒë¼ë¯¸í„° : idsë‚˜ idsì¤‘ í•˜ë‚˜ë¼ë„ nullì´ì–´ì„œëŠ” ì•ˆ ë¨.
  - idsë‚˜ idsì¤‘ í•˜ë‚˜ë¼ë„ nullì´ë©´  `IllegalArgumentException`ì„ ë˜ì§

#### Create (ì €ì¥)

- `<S extends T> S save(S entity)`
  - ì£¼ì–´ì§„ ì—”í‹°í‹°ë¥¼ ì €ì¥í•¨
  - ì €ì¥ëœ ì—”í‹°í‹°ë¥¼ ë°˜í™˜í•¨
  - ì£¼ì–´ì§„ ì—”í‹°í‹°ê°€ nullì´ë©´ `IllegalArgumentException`ì„ ë˜ì§
- `<S extends T> Iterable<S> saveAll(Iterable<S> entities)`
  - ì£¼ì–´ì§„ ëª¨ë“  ì—”í‹°í‹°ë“¤ì„ ì €ì¥í•¨
  - ì €ì¥ëœ ì—”í‹°í‹°ë“¤ì„ ë°˜í™˜í•¨
  - ì£¼ì–´ì§„ ì—”í‹°í‹°ë“¤(ë˜ëŠ” ì—”í‹°í‹°ë“¤ ì¤‘ í•˜ë‚˜)ê°€ nullì´ë©´ `IllegalArgumentException`ì„ ë˜ì§



## ë™ì‹œì„± Concurrency (+ ë³‘ë ¬ì„±)

> ì¶œì²˜ : [ë¸”ë¡œê·¸1](https://velog.io/@chan33344/%EB%8F%99%EC%8B%9C%EC%84%B1-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%EB%B9%84%EB%8F%99%EA%B8%B0-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D), [ë¸”ë¡œê·¸2](https://seamless.tistory.com/42)

> Q. ì—¬ëŸ¬ ì‚¬ìš©ìì—ê²Œì„œ ìš”ì²­ì´ ë™ì‹œì— ë“¤ì–´ì˜¬ ë•Œ, ArrayListëŠ” ì–´ë–»ê²Œ ë™ì‘í•˜ê²Œ ë ê¹Œìš”?
>
> 'ë™ì‹œì—~ ì—¬ëŸ¬~' ê°€ ë“±ì¥í•˜ë©´ ë™ì‹œì„± ë¬¸ì œë¼ê³  ìƒê°í•˜ì‹œë©´ ë  ê²ƒ ê°™ì•„ìš”.
> ë‹¨ìˆœí•œ `ArrayList`ëŠ” ë™ì‹œì„± ë¬¸ì œì—ì„œ ì•ˆì „í•˜ì§€ ëª»í•œ ìë£Œêµ¬ì¡°ì…ë‹ˆë‹¤!

(ìŠ¤ë ˆë“œ ê°œë…ê³¼ ì´ì–´ì§)

### ë¹„ë™ê¸° Asynchronous í”„ë¡œê·¸ë˜ë° - ë™ì‹œì„±ê³¼ ë³‘ë ¬ì„±

: ì½”ë“œ ì‹¤í–‰ ê²°ê³¼ë¥¼ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ë‹¤ìŒ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ë³‘ë ¬ ì²˜ë¦¬ ë°©ì‹. í”„ë¡œê·¸ë¨ì˜ ì£¼ ì‹¤í–‰ íë¦„ì„ ë©ˆì¶”ì–´ì„œ ê¸°ë‹¤ë¦¬ëŠ” ë¶€ë¶„ ì—†ì´, ë°”ë¡œ ë‹¤ìŒ ì‘ì—…ì„ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ í•¨

- ë™ì‹œì„± Concurrency í”„ë¡œê·¸ë˜ë°

  : ë…¼ë¦¬ì ìœ¼ë¡œ ë™ì‹œì— ì‹¤í–‰ë˜ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì´ëŠ” ê²ƒ. ë©€í‹°íƒœìŠ¤í‚¹ì„ ì—¬ëŸ¬ ìŠ¤ë ˆë“œë¥¼ ë²ˆê°ˆì•„ ê°€ë©° ì‹¤í–‰ë˜ëŠ” ë°©ì‹. 

  - ì‹±ê¸€ì½”ì–´ì—ì„œ ë©€í‹°ìŠ¤ë ˆë“œë¥¼ ë™ì‘ì‹œí‚¤í‚¤ ìœ„í•œ ë°©ì‹ì´ë‹¤.

- ë³‘ë ¬ì„± Parallelism í”„ë¡œê·¸ë˜ë° 

  : ë¬¼ë¦¬ì ìœ¼ë¡œ ì •í™•íˆ ë™ì‹œì— ì‹¤í–‰ë˜ëŠ” ê²ƒ.

  - ë©€í‹° ì½”ì–´ì—ì„œ ë©€í‹° ìŠ¤ë ˆë“œë¥¼ ì‹¤í–‰ì‹œí‚¤ëŠ” ë°©ì‹.

  - ë°ì´í„° ë³‘ë ¬ì„±ê³¼ ì‘ì—… ë³‘ë ¬ì„±ìœ¼ë¡œ ë‚˜ë‰¨

### ë™ì‹œì„±ê³¼ ë³‘ë ¬ì„±ì˜ ì°¨ì´

ë™ì‹œì„±ê³¼ ë³‘ë ¬ì„± ëª¨ë‘ ë¹„ë™ê¸°ë¡œ ë™ì‘ì„ êµ¬í˜„í•  ìˆ˜ ìˆì§€ë§Œ, ë‘˜ì˜ ë™ì‘ì›ë¦¬ëŠ” ë‹¤ë¥´ë‹¤

- ë™ì‹œì„±ì€ ë…¼ë¦¬ì  ê°œë…. ì‹±ê¸€ ì½”ì–´, ë©€í‹° ì½”ì–´ì—ì„œ ëª¨ë‘ ë™ì‘ ê°€ëŠ¥í•˜ë‹¤.
  - nê°œë¡œ ì¤„ì„ ì„  ì†ë‹˜ë“¤ì„ ì‘ëŒ€í•˜ëŠ” 1ëª…ì˜ ì§ì›
- ë³‘ë ¬ì„±ì€ ë¬¼ë¦¬ì  ê°œë…. ë©€í‹° ì½”ì–´ì—ì„œë§Œ ë™ì‘ ê°€ëŠ¥í•˜ë‹¤.
  - nê°œë¡œ ì¤„ì„ ì„  ì†ë‹˜ë“¤ì„ ì‘ëŒ€í•˜ëŠ” nëª…ì˜ ì§ì›

> ë™ì‹œì„±ì€ ë™ì‹œì— ì‹¤í–‰ë˜ëŠ”ê²ƒ ì²˜ëŸ¼ ë³´ì´ëŠ” ê²ƒì´ê³ , ë³‘ë ¬ì„±ì€ ì‹¤ì œë¡œ ë™ì‹œì— ì—¬ëŸ¬ ì‘ì—…ì´ ì²˜ë¦¬ë˜ëŠ” ê²ƒì´ë‹¤.

> ë™ì‹œì„±ì€ í•œ ë²ˆì— ë§ì€ ê²ƒì„ ì²˜ë¦¬í•œë‹¤ë©´, ë³‘ë ¬ì„±ì€ í•œ ë²ˆì— ë§ì€ ì¼ì„ ì²˜ë¦¬í•˜ëŠ” ê²ƒì„

![ìˆœì°¨ ë™ì‹œì„± ë³‘ë ¬ì„±](https://t1.daumcdn.net/cfile/tistory/99AD02405FBBB94910))

![](https://t1.daumcdn.net/cfile/tistory/995359405FBBB9591C)

![](https://t1.daumcdn.net/cfile/tistory/99972F3C5FBBB96E1A)



## TODO

- [í´ë¼ìš°ë“œì™€ AWSê°•ì˜](https://www.inflearn.com/course/aws-starter/dashboard) ë“£ê¸°
  - ìƒˆë¡œ ì—…ë¡œë“œí•˜ì‹¤ ê°•ì˜ë„ ë“£ê¸°!
- Logger, LoggerFactory ê³µë¶€í•´ì„œ ì‚¬ìš©í•˜ê¸°
- ìŠ¤í”„ë§ ì˜ˆì™¸ì²˜ë¦¬ ê³µë¶€í•´ì„œ ì‚¬ìš©í•˜ê¸°

- ìŠ¤í”„ë§MVCêµ¬ì¡° ë° Model, Domainì— ëŒ€í•´ ì•„ë˜ ë§í¬ ì°¸ê³ í•´ì„œ ë” ê³µë¶€í•˜ê¸°.
  - [What is the difference between an MVC Model object, a domain object and a DTO](https://stackoverflow.com/questions/3853749/what-is-the-difference-between-an-mvc-model-object-a-domain-object-and-a-dto)
  - [Spring MVC êµ¬ì¡°ì— ëŒ€í•œ ì¢‹ì€ ê·¸ë¦¼ê³¼ ì„¤ëª…](https://justforchangesake.wordpress.com/2014/05/07/spring-mvc-request-life-cycle/)

- (í˜¸ëˆ…ìŠ¤ì¶”ì²œ) ë°±ì¤€ - ê´€ì¤‘ì„ ë¬¸ì œ

