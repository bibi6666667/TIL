**[210208]**



자바코스 첫 수업



---



# TIL



## 1. 깃 시작하기

#### Git이란?

(소스코드를 관리하는) 분산형 버전 관리 시스템.

소스 코드 관리를 쉽게 해 준다.



#### Git에서 가장 중요한 것은?

**커밋**이다.

커밋 : 나 또는 팀원 누군가의 작업 **디렉토리**의 **스냅샷**이다.

게임으로 치면 **세이브포인트**.

커밋을 하고 나면 언제든지 그 시점으로 돌아갈 수 있다.

* Git은 파일의 변경사항만이 아니라, 전체 내용을 저장한다.

#### Git 개념

- 워킹트리 : 작업 디렉토리. 우리가 작업하는 공간(폴더). Git의 입장에서는 샌드박스

- 스테이지(인덱스) : 커밋을 준비하는 공간. 
- 커밋 : 스테이지에 있는 내용을 가지고 커밋을 만들 수 있다.
  - 커밋할 대상은 선택할 수 없다. (스테이지에 올라간 모든 파일은 커밋된다)
  - 스테이지에 올라갈 대상을 선택할 수 있을 뿐이다.
- 로컬저장소 : `.git`디렉토리. 커밋의 집합이다.
  - `.git`폴더에는 스냅샷들이 저장되기 때문에 로컬저장소이다.

- 원격저장소 : 로컬 저장소를 서버에 복사한 것 (로컬 저장소 == 원격 저장소)
- 브랜치 : 작업의 흐름을 제어하기 위해 사용.
  - 브랜치는 사실 커밋의 참조일 뿐이다. (커밋에 이름 붙인 것일 뿐)
  - `HEAD` : 현재 작업 중인 브랜치. `HEAD`는 브랜치의 참조이다.
- 태그 : 



#### 왜 Git을 사용하는가?

버전 관리, 백업, 협업을 위해 사용한다.

- 버전 관리 Version control 
  - 문서를 언제 수정했고 어떤 부분을 변경했는지 기록함.
- 백업 Backup
  - 필요성
    자료를 컴퓨터에만 저장한다면 언젠가는 그 자료가 유실된다.
    내 컴퓨터는 언젠가는 고장나고, 그게 언제가 될 지는 모른다.
    따라서 반드시 백업을 해야 함.
  - 백업이란? 컴퓨터의 자료를 다른 컴퓨터에 복제하는 것
    - 원격 저장소(온라인 저장소)
      : (깃허브`Github`처럼) 깃 파일을 위한 백업 공간을 제공하는 인터넷 서비스.
- 협업 Collaboration
  - 깃허브를 통해 협업이 쉬워진다.

#### 깃 프로그램의 종류

다양한 깃 프로그램들이 존재한다 - 깃을 좀 더 편리하게 사용할 수 있게 해 줌.

- 깃허브 데스크톱 Github Desktop (GUI - 초급)
- 소스트리 SourceTree (GUI - 고급)
- CLI로 터미널 창에 직접 명령을 입력해 사용할 수도 있다.
  - 기본 리눅스 명령과 깃 명령어를 외워야 한다.
  - 익숙해지면 훨씬 빠르다, 자동화가 가능하다, 서버환경에서 깃 사용이 가능하다.
  - 깃 배시 Git bash
    : 윈도우에 깃을 설치하면 함께 설치됨. 
    깃이 리눅스 명령어를 사용하기 때문에 깃배시로 리눅스 명령을 사용할 수 있게 된다.



> 커맨드 라인 vs 터미널
>
> : 리눅스 명령을 입력할 수 있는 창을 뜻한다.
> 윈도우에서는 커맨드라인(명령 프롬프트), 맥에서는 터미널이라고 부른다.



### 깃 명령어 (기초)

- `$ git config` : 깃 사용자 정보 설정

  - `--global` 옵션 : 현재 컴퓨터의 모든 저장소에서 같은 사용자 정보를 사용하도록 설정
  - `$ git config --global user.name "이름"`
  - `$ git config --global user.email "이메일주소"`

  

### 깃 명령어 (리눅스 공통)

- `~` : 현재 홈 디렉토리에 있다는 표시.
  (디렉토리 = 폴더)

> **홈 디렉토리** : `/c/Users/사용자아이디` 를 나타냄.

- `pwd` : print working directory. 현재 위치 경로를 나타냄.
- `ls` : list. 현재 디렉토리에 어떤 파일 및 디렉토리가 있는지 확인함.
  - 이름 뒤에 `/`가 붙은 것이 디렉토리이다.
- `clear` : 화면을 깨끗이 정리함.
- `-` : 명령에 옵션을 추가하는 붙임표.
  - `ls -a` : all? 숨긴 파일 및 디렉토리 표시
  - `ls -l` : 파일 및 디렉토리의 상세 정보 표시
  - `ls -r` : 파일 정렬순서를 거꾸로 표시
  - `ls -t` : 파일의 작성시간 순으로 표시(내림차순)
  - `ls -la` 또는 `ls -al`처럼 두 옵션 함께 사용도 가능. (순서는 상관없음)
- `cd` : change directory. 터미널 창에서 디렉토리 사이를 이동함.
  - `cd ..` : 현재 위치에서 상위 디렉토리로 이동
  - `cd 하위디렉토리명` : 하위 디렉토리로 이동
  - `cd ~` : 홈 디렉토리로 이동

> 리눅스의 디렉토리 기호
>
> `~` : 홈 디렉토리
> `./` : 현재 작업중인 디렉토리
> `../` : 현재 디렉토리의 상위 디렉토리

- `mkdir 폴더명` : 현재 디렉토리에서 하위 디렉토리 생성

- `rm 폴더명` : remove. 디렉토리 삭제
  - 삭제할 디렉토리의 상위 디렉토리로 이동한 후 사용해야 함.
  - `rm -r 폴더명` : 하위 디렉토리 및 파일까지 모두 삭제 (디렉토리일 경우 반드시 붙이는 옵션)

- `cat 파일명` : concatenate(연쇄하다) 파일의 내용을 화면에 표시함
- `cat 파일1, 파일2 .. 파일n > 새파일` : 파일1, 2 .. n들을 차례로 연결해 새파일로 만듦
- `cat 파일1 >> 파일2`  : 파일1 내용을 파일2끝에 연결함





### 빔 vim

vim : 리눅스의 기본 편집기. (윈도우의 메모장처럼)

- 터미널에서 사용할 수 있는 대표적인 편집기.

- 터미널창에서 키보드 입력만으로 사용함.

### 모드

빔은 처음에 ex모드로 실행된다.

- ex모드 : `Esc`를 눌러서 전환. 파일저장, 종료가 가능한 상태.
- 입력 모드 : `i`를 눌러서 전환. 텍스트 입력 및 수정이 가능한 상태.

#### 빔 명령어

- `vim 파일명` 
  : 해당 파일이 있다면 그 파일을 vim으로 연다.
  : 해당 파일이 없다면 그 이름으로 새로운 문서를 만들고 vim으로 연다.
- `i` : 입력 모드로 전환
- `Esc` : ex모드로 전환
  - `:` : ex모드에서 명령어 입력
    ex모드에서 사용하는 명령은 모두 `:`로 시작함.
- `:wq` : 저장 및 종료
- `:wq 파일명` : 파일명 으로 저장 및 종료
  - `:w` : write. 문서를 저장함
  - `:q` : quite. 편집기를 종료함









## 2. 깃으로 버전 관리

깃 버전 관리를 위해서는, 먼저 특정 디렉토리에서 깃을 초기화해야 한다.

- `git init` : initialize(초기화하다) 현재 디렉토리에 저장소(`.git`)를 만듦.
  (깃을 사용할 수 있도록 디렉토리를 초기화함)
  - `.git` : 깃을 사용하면서 버전이 저장될 저장소(repository).
    숨김 파일이다 (사용자가 실수로 .git을 지우지 않도록 하기 위해)

#### **버전**이란?

: (프로그램 개발에서) 수정 내용이 쌓여 이전 상태와 구별된 것. 새로 번호를 붙여서 관리함.
0.0.1 - 0.0.2 - ... - 2.23.0 과 같이 구분

: (깃에서) 문서를 수정 및 저장할 떄마다 생기는 것.

#### 작업 트리, 스테이지, 저장소 및 커밋

- **작업 트리 working tree (또는 작업 디렉토리)**
  : 파일 수정, 저장 등 작업을 하는 디렉토리. 우리 눈에 보이는 디렉토리에 해당함.
- **스테이지 stage (또는 스테이징 영역)**
  : (`.git`에 숨겨져 있다)
  버전으로 만들 파일이 대기하는 곳. 
  수정한 파일 중 버전으로 만들 파일을 스테이지로 보내면 된다.
  - `.git/index` : 스테이지의 내용은 `.git` 디렉토리의 인덱스 파일에 저장됨
- **저장소 repository (리포지토리)**
  : (`.git`에 숨겨져 있다)
  스테이지의 대기 파일들을 버전으로 만들어 저장하는 곳.
  - `.git/HEAD` : 저장소의 내용은 `.git`디렉토리의 HEAD파일에 저장됨
- **커밋 commit**
  : 스테이지의 대기 파일들을 버전으로 만들어 저장소에 저장하는 명령.



- `git status` 
  : 깃 상태를 확인하는 명령어.

  - `On branch master` : 현재 마스터 브랜치에 있다.
  - `No commits yet` : 아직 커밋한 파일이 없다.
  - `nothing to commit` : 현재 커밋할 파일이 없다. =버전으로 만들 파일이 없다.
  - `Untracked files : 파일명` : 한 번도 버전관리를 하지 않은 파일이 있다.
  - `Changes to be committed : 파일명` : 새 파일을 앞으로 커밋할 것이다.
  - `working tree clean` : 작업 트리가 수정사항 없이 깨끗하다.

- `git add 파일명` 
  : 작업 트리에서 생성 또는 수정한 파일을 스테이지에 추가하는 명령어.
  '스테이징 staging' 또는 '인덱스에 등록한다' 라고 함.

  - `add`로 추가하면 스테이징이 끝난 것 = 버전을 만들 준비가 되었다.

  - `warning: LF will be replaced by CRLF in 파일명.`
    `The fill will have its original line endings in your working directory`
    : (의미)깃에서 자동으로 텍스트문서의 CRLF문자를 LF문자로 변환해 커밋하겠다.
    윈도우와 리눅스의 줄바꿈문자( = 개행문자, end of line, eol, line endings)가 달라서 나타나는 경고.

    > 윈도우는 파일 저장시, 줄바꿈 자리에 CR문자와 LF문자가 삽입됨 (=CRLF)
    > 반면 리눅스 & 맥은 파일 저장시, 줄바꿈 자리에 LF문자가 삽입됨
    > 깃은 리눅스 환경이므로 윈도우 텍스트문서를 스테이징할 때 위와 같은 경고 메시지가 나오는 것.
    > (메시지 뜻만 이해하고 넘어가면 된다)

- `git commit -m "커밋메시지"`
  : 깃에서 파일을 커밋하는 명령어. 
  스테이지에 있는 파일의 버전을 저장소에 저장함.
  - `-m` : 커밋메시지를 추가하는 옵션. 커밋메시지는 주로 영어로 작성
  - `1 file changed, 1 insertion(+)`
    : 파일 1개가 변경되었고, 파일에 1개의 내용이 추가되었다.
    (커밋한 파일이 저장소에 추가됨)
- `git commit -am "커밋메시지"` (또는 `git commit -a -m "커밋메시지"`)
  : `add` + `commit`. 깃에서 스테이징과 커밋을 한꺼번에 처리하는 명령어.
  한 번이라도 커밋한 적이 있는 파일 대상으로 사용 가능.



#### 커밋 로그 : 커밋 내용 확인하기

- `git log` : 커밋 기록을 살펴보는 명령어.
  지금까지 만든 버전 및 커밋 작성자, 작성시간, 커밋메시지 조회 가능.
- 커밋 로그 commit log : `git log`로 나오는 정보들을 말함.

![커밋로그](https://user-images.githubusercontent.com/67407678/107194087-f5d1ab80-6a32-11eb-943a-744f78cffa1e.PNG)

  - `commit 70b22aae93090437b55f79890bd54a39c2ebb2f8`  
    : **커밋 해시 commit hash (또는 깃 해시)**.
    커밋을 구별하는 아이디에 해당함

  - `(HEAD -> master)`
    : 해당 버전이 가장 최신 버전임을 나타내는 표시.

  - `Author : `
    : 버전을 만든 사람

  - `Date : `
    : 버전이 만들어진 날짜

  - `commit message 1` 등 Date 아래의 내용
    : 작성자가 기록한 커밋 메시지

    