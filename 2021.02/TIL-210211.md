**[210211]**



> 설 연휴 시작!
> 밀린 진도를 따라잡으려 노력해야 하는 연휴이다..💦
>
> 우선 어제 컴파일러가 없다는 오류가 떴었기 때문에
> 혹시 그래들이나 JUnit에 현재 버전 (자바11이었다)이 안 맞나 싶어서, 다시 자바8버전을 설치했다.
>
> 그리고 줌에서 만난 Jane, yeon에게 어제 막혔던 내 상황을 설명드리면서 도움을 청했다.
> 파일이랑 폴더 구조가 많이 꼬여서 차라리 다 지우고 처음부터 다시 하는 게 나을 거라는 조언을 해 주셨다.🙇‍♂️ 감사합니다!
>
> 마음이 급해도 차근차근 해야 제대로 되는 것 같다.



---

# TIL



## [깃허브를 기반으로 한 온라인 코드리뷰 순서](https://www.youtube.com/watch?v=a5c9ku-_fok)

![참고 이미지](https://github.com/code-squad/codesquad-docs/raw/master/codereview/codereview_13.png)

*로컬 저장소 = 내 PC (위 이미지의 주황색 영역)

*원격 저장소 = 깃허브 저장소 (`javajigi/java-racingcar`)

*프로젝트 원격저장소 = 내가 참여하고 싶은 깃허브 원격저장소를 뜻함.  (`code-squad/java-racingcar`)

*`origin` = 내 원격 저장소를 뜻함

*`upstream` = 프로젝트 원격저장소를 뜻함

*로컬 저장소의 메인 브랜치 이름 = 프로젝트 원격 저장소의 내 브랜치 이름



1. 프로젝트 원격저장소에 내 브랜치(이하 `MyBranch`) 생성을 요청한다.
2. 해당 원격저장소를 `fork`한다.
   - `fork` : 다른 계정의 원격 저장소를 내 깃허브 계정으로 복사해 온다.
     깃허브 저장소 오른쪽 상단의 Fork버튼을 누르면 된다.
3. `fork`한 원격 저장소를 로컬 저장소로 `clone`한다.
   - `git clone` : 원격 저장소를 로컬 저장소로 복사해 온다.
     원격 저장소를 복사해 오고 싶은 위치로 `cd`한 뒤 아래 명령을 실행한다.
   - `git clone -b MyBranch --single-branch fork한원격저장소HTTPS주소`

4. `clone`한 로컬 저장소를 열고, 작업을 위한 새 브랜치(이하 `NewBranch`)를 만든다.

   - clone한 위치의 로컬 저장소를 열고, 해당 위치에서 새 브랜치를 만든다.
   - `git checkout -b NewBranch`: 해당 브랜치를 만듦과 동시에 해당 브랜치로 체크아웃한다.

   - 로컬 저장소의 기본 브랜치는 둔 채, 새 브랜치를 만들어 거기서 작업한 뒤  완성되면 merge하는 방식으로 작업한다. 기본 브랜치에서 직접 작업하지 않는다.

5. 만든 `NewBranch`에서 작업 후 `add/commit`한다.

   - 새로운 버전을 작업하는 단계마다 만들고 커밋하는 것을 반복한다.
   - `git add .` 또는 `git add 파일명`
   - `git commit -m "커밋메시지"`

6. 로컬 저장소에서 작업 한 단위를 마치면, 내 원격 저장소에 `push`한다.

   - 로컬에서 생성 및 작업한 새 브랜치(`NewBranch`)를 원격 저장소에도 반영한다.
   - `git push origin NewBranch`

7. 코드리뷰를 받기 위해, 내 원격 저장소에 반영된 새 브랜치를 프로젝트 원격저장소로 `pull request`를 보낸다.

   - 프로젝트 원격 저장소에서 [Branch]를 내 브랜치로 선택 후 [New pull request] 를 누른다.
   - (Open a pull request에서) 프로젝트 원격 저장소의  브랜치(base)는 내 브랜치로 선택한다.
   - 내 원격 저장소의 브랜치(compare)는 새로 생성 후 작업한 브랜치로 선택한다.
   - `Able to merge`를 확인한 뒤 pull request 제목과 내용을 작성해 보낸다.
     pull request를 받은(코드 리뷰를 하는)사람이 참고할 수 있도록 작업한 내용에 대한 설명을 적으면 된다.
   - 코드리뷰를 하는 사람은 해당 pull request의 Files changed에 들어가, 신청자가 작업한 내용을 확인한다. comment, Review summary도 남길 수 있다.
   - 리뷰어로부터 리뷰를 받으면, 해당 브랜치에서 리뷰에 대한 피드백 작업을 계속한다.
     5.로 돌아가서 반복한다.
   - 코드리뷰를 하는 사람은 pull request의 작업내용이 괜찮다고 확인되면 해당 브랜치를 merge한다. 이는 해당 작업을 프로젝트 원격저장소의 내 브랜치에 내 작업 내용을 반영하는 것이다.

8. pull request한 첫 번째 작업이 반영되고 나면 다음 작업을 해야 한다.
   작업을 하기 전, 프로젝트 원격저장소의 내 브랜치에 내 작업내용이 반영된 상태이기 떄문에, 로컬 저장소의 메인 브랜치에도 해당 작업내용이 반영되도록 하는 연결 및 동기화 작업이 필요하다.

   - 먼저 로컬저장소에서 메인 브랜치로 `git checkout`한다.
   - 로컬저장소는 현재 내 원격저장소에만 연결이 되어 있다.
     로컬 저장소와 프로젝트 원격저장소를 연결하는 작업이 필요하다.
     - `git remote add upstream 프로젝트원격저장소HTTPS주소` (최초 1회)
     - `git remote -v` : 로컬저장소와 연결된 원격저장소 내역을 확인할 수 있다.
       `origin`과 `upstream`이 둘 다 있는지 확인한다.
       (`origin` = 내 원격 저장소 / `upstream` = 프로젝트 원격 저장소)

9. 로컬저장소와 연결된 프로젝트 원격저장소로부터 변경된 작업내용을 가져온다.

   - `git fetch upstream 내브랜치이름`
     : upstream(프로젝트 원격저장소)에서 해당 브랜치를 가져온다.
   - `git branch -a`로 로컬저장소 메인브랜치, 로컬저장소 새 브랜치, 내 원격저장소 브랜치(`remote/origin/..`), 프로젝트 원격저장소 브랜치(`remote/upstream/..`)가 모두 있는지 확인한다.
   - `git rebase upstream/내브랜치이름`
     : 프로젝트원격저장소(upstream)의 내 브랜치 변경사항을 로컬 저장소의 메인 브랜치로 가져온다.
     (반드시 로컬저장소의 메인 브랜치로 체크아웃한 상태에서 실행해야 함)
     이제 로컬저장소-프로젝트원격저장소 간 동기화 작업이 끝났다.

10. 이제 로컬 저장소에서 4.처럼 새 브랜치를 다시 만들어 다음 작업을 하면 된다.
    작업 후에는 4. 이후 단계를 반복한다





---

## 프로젝트를 위한 gradle과 test폴더 초기설정 하기 (Java8, IntelliJ)

함께 줌에서 공부하던 `프레디`가 도움을 주셨다. 천천히 가르쳐 주셔서 압도적 감사드립니다🙇‍♂️🙇‍♂️(엘-멘)

아래는 가르쳐 주신 내용을 기록 및 정리한 것입니다.



### 1

자바는 컴파일 언어이다.
즉, `.java`파일을 실행시키는 게 아닌, `.java`의 컴파일 결과인 `.class`파일을 실행시키는 것이다.

`javac 파일.java` 명령으로 컴파일 한 뒤, `java 파일.class`로 실행한다.

프로젝트 구조를 처음 설정할 때는, 
IntelliJ와 같은 **IDE**입장에서는 실행할 **`.class`파일이 담긴 경로**를 알아야 한다. 
이를 **classpath 설정** 이라고 한다.

### 2

gradle 사용할 때는 classpath가 설정되어 있는지 확인해야 한다.

- 프로젝트의 `build.gradle`파일 (코끼리 아이콘)을 눌러 
  `apply plugin: 'java'`가 포함되어 있는지 확인한다.

- gradle은 기본적으로 `build`폴더 내부에 컴파일된 소스 구조를 만들어 준다.
  프로젝트의 `build` - `classes`폴더를 눌러 `src`폴더와 같은 구조로 컴파일된 소스가 있는지 확인한다.
  해당 폴더에 파일&폴더가 만들어져 있다면 IDE가 gradle을 통해 제대로 빌드를 해 준 것이고(컴파일이 잘 된 것), 없다면 IDE가 해당 파일&폴더가 무엇인지 몰라 빌드를 하지 못한 것(컴파일이 잘 되지 않은 것)이다.
- 기본적으로 인텔리J에서 프로젝트를 시작할 때는 src폴더가 자동으로 잡혀 있지만, 
  가급적 아래와 같은 폴더구조(표준)를 따르는 것이 좋다 (gradle 사용여부와 관계없이)
  - 소스 코드 : 프로젝트 하위에 `/src/main/java` 폴더를 만들고 그 밑에 구현해야 한다.
  - 테스트 코드 : 프로젝트 하위에 `/src/test/java` 폴더를 만들고 그 밑에 구현해야 한다.
- 표준사항 외에 별도로 설정하고 싶은 옵션이 있다면 `build.gradle`파일 내에 설정해야 한다.
  gradle로 프로젝트 구조를 만들면, gradle은 매번 초기화 한 다음`build.gradle`내용에 따라 실행하기 때문이다.
  - 우리는 미션에서 `build.gradle`파일이 셋팅되어 주어졌으니 그대로 따르면 된다.

### 3

테스트 폴더와 테스트 코드

가급적 인텔리J에서 자동으로 만들어 주는 기능을 활용하자.

- 테스트 폴더
  : `src`아래에 `test`디렉토리 생성 시점에, 아래에 표시되는 초록색 폴더를 눌러서 생성.

- 테스트 코드

  1. 테스트코드를 만들어야 하는 `.java`파일에서 클래스명을 클릭한 뒤,
      `Alt` + `Insert` 단축키로 `Generate`창을 열고 `Test`를 누른다.

  2. Testing library로 `JUnit5`를 지정하고 OK를 두 번 누른다.
  3. `/src/test/java`폴더 아래에 `main`과 같은 구조로 `클래스명Test` 라는 테스트 파일이 생성된다.
  4. 해당 클래스에 테스트 메서드를 작성해 테스트를 진행한다.

### 4

JUnit 사용성을 높여 주는 옵션 (IntelliJ)

1. Settings 
2.  Build, Execution, Deployment 
3.  Build tools - Gradle 
4.  Build and run using과 Run tests using 항목을 Gradle에서  IntelliJ IDEA로 바꿔 준다.

