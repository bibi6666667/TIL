**[210210]**



드디어 본격적인 미션을 시작하는 날!

체스 규칙을 익히고, 체스 게임을 한번 해 보고, 프로젝트를 시작했다.



**현재 상황**

미션을 위한 테스트 환경을 설정중인데 JUnit 설정부터 난관이다..

JUnit을 처음 사용해 보는 거라 [구글링 IntelliJ JUnit 사용법](https://ildann.tistory.com/5) 을 따라해 봤지만 에러가 난다.

우선 오늘은 출근을 해야 해서 내일 이어서 해결해보기로 했다. 😥





---

# TIL

### [체스의 기초](https://www.youtube.com/watch?v=fRWTP9NUtGg&list=PL6jflZl2KneXIn0vTJugSxUEvwg3ati2B&index=1)

**기본 규칙**

- 흑, 백의 두 편이 존재하며 백의 차례로 시작한다.
- 서로 번갈아가며 한 수씩 둘 수 있다.
- 자신의 차례에는 반드시 자신의 말을 움직여야 한다.
- 기본적으로 상대의 킹을 잡으면 게임에서 승리한다. (체크)

**체스 보드**

보드 Board = 체스판을 뜻한다.

- 8x8 = 64개의 칸이 있다.
- 흑과 백이 번갈아 나타나는 체크 무늬 판이다.
- 선수 기준으로 우측 하단이 밝은색(흰색) 칸이 되도록 보드를 배치한다. (Right is Light)

**체스보드의 좌표**

- 행 Rank : 가로줄을 의미한다. 
  - 아래-위 순으로 1, 2, 3, 4, 5, 6, 7, 8 행이 있다
- 열 File : 세로줄을 의미한다.
  - 왼쪽-오른쪽 순으로 a, b, c, d, e, f, g, h
- 각 좌표를 읽을 때는 열-행 순으로 읽는다. (c4, e6 ...)

- 다이애그널 Diagonal : 대각선 줄을 말한다.
  - 대각선이 시작하는 좌표와 끝나는 좌표로 대각선을 나타낸다. (a1h8다이애그널)

**체스 기물**

양 편에서 킹과 퀸은 마주보고 있다.

기물 Pieces = 체스 말을 뜻한다.

- 폰 Pawn (병사) (8개) :  두 번째 열에 한 줄로 배치한다
- 룩 Rook (성) (2개) : 첫 번째 열 양쪽 끝에 하나씩 배치한다
- 나이트 Knight (기사) (2개) : 첫 번째 열, 룩 옆에 양끝 하나씩 배치한다
- 비숍 Bishop (사제) (2개) : 첫 번째 열, 나이트 옆에 양끝 하나씩 배치한다
- 퀸 Queen (여왕) (1개) : 첫 번째 열, 바닥 판과 같은 색에 배치한다 (흑의 퀸은 검은 칸, 백의 퀸은 하얀 칸)
- 킹 King (왕) (1개) : 퀸 옆에 마지막 남은 칸에 배치한다

### [행마법](https://www.youtube.com/watch?v=SpTW35zh3Jk&list=PL6jflZl2KneXIn0vTJugSxUEvwg3ati2B&index=2)

체스 말을 움직이는 규칙을 행마법이라고 한다.

→ 백이 첫 수를 두면서 체스를 시작한다.

→ 자신이 갈 수 있는 칸에 상대의 말이 있으면 그 말을 잡아낼 수 있다.

- 룩 : 십자가(+) 모양으로 원하는 만큼 이동할 수 있다.
- 비숍 : X자 모양으로 원하는 만큼 이동할 수 있다.
  - 흑/백 팀 색깔과 같은 판으로만 이동할 수 있다.
- 퀸 : 룩+비숍. 십자가 모양 & X자 모양으로 원하는 만큼 이동할 수 있다. 체스에서 가장 강력한 말이다.
- 킹 : 십자가 모양 & X자 모양으로 1칸씩 이동할 수 있다. (자기 주변의 네모모양 8칸만 이동 가능)
  - 예외 ) 킹은 자신이 공격받을 수 있는 칸으로는 절대 이동할 수 없다.
    (킹이 잡히면 경기가 끝나기 때문에)
- 나이트 : 현재 위치에서 L자 모양으로 이동할 수 있다. (수직2칸, 수평1칸 또는 수평2칸, 수직1칸)
  - 나이트는 유일하게 다른 말(자신의 말, 상대의 말)을 넘어서 이동할 수 있다.
- 폰 : 앞으로 1칸씩 이동할 수 있다. 절대 뒤로 움직일 수 없다.
  - 예외 1) 폰이 상대 말을 잡을 때는 대각선 앞으로 1칸 이동할 수 있다.
    (잡는 방법이 움직이는 법과 다른 유일한 말이다.)
  - 예외 2) 폰이 처음 시작 위치 (두 번째 열)에 있을 때는 한 번에 2칸씩 앞으로 이동할 수 있다.
  - 폰 앞에 다른 말(자신의 말, 상대의 말)이 있으면 더 이상 움직일 수 없다.

### [특수 행마법](https://www.youtube.com/watch?v=jTNz-N0MUIU&list=PL6jflZl2KneXIn0vTJugSxUEvwg3ati2B&index=3)

특수 행마법은 캐슬링, 승진, 앙파상 의 3가지가 있다.

- 킹사이드 Kingside
  : (e, f, g, h열) 킹을 기준으로 오른쪽 체스판 절반을 킹사이드라고 부른다. 

- 퀸사이드 Queenside
  : (a, b, c, d열) 퀸을 기준으로 왼쪽 체스판 절반을 퀸사이드라고 부른다.

1. **캐슬링 Castling**
   : 킹과 룩의 특수 행마법.
   - 킹이 킹사이드/퀸사이드로 2칸 움직인다. 
   - 룩이 킹을 넘어서 움직인다.
   - 캐슬링의 조건
     - 킹과 룩이 한 번이라도 움직였다면 캐슬링을 할 수 없다
       (움직이지 않은 쪽의 캐슬링은 가능하다)
     - 킹과 룩 사이에 다른 말이 있다면 캐슬링을 할 수 없다
     - 체크(킹이 잡히는 상황) 상황에서는 캐슬링을 할 수 없다
     - 킹이 움직이는 길목을 상대 말에게 공격당하는 상황에서는 캐슬링을 할 수 없다
   - 왜 캐슬링을 하는가?
     - 두 말(킹, 룩)을 한 턴에 움직일 수 있다
     - 캐슬링 한 뒤에, 킹은 폰 뒤에 숨어 안전해질 수 있다
     - 캐슬링 한 뒤에, 가장자리에서 중앙으로 나와 상대 말을 공격하기 쉬워진다
2. **승진 Promotion**
   : 폰의 특수 행마법.
   - 폰이 상대 진영 끝까지 이동했을 때, 해당 폰을 킹을 제외한 다른 말(퀸, 비숍, 룩, 나이트)로 교환할 수 있다.
   - 보통은 가장 강력한 말인 퀸으로 교환한다.
   - 다른 말로 교환하지 않고 폰을 그대로 둘 수는 없다.
3. **앙파상 en passant**
   : 폰의 특수 행마법. (영어로는 empassing이라는 의미)
   - 내 폰이 5행에 있고, 상대 폰이 스타팅 포인트에서 2칸을 움직여 피하더라도 
     1칸을 움직였을 때처럼 잡을 수 있는 특수 규칙.
   - 앙파상으로 상대 폰을 잡은 뒤에는 상대 폰이 1칸 움직였다면 있었을 자리에 내 폰을 둔다.
   - 주의) 상대가 폰을 2칸 움직인 **직후**에만 앙파상을 적용해 잡을 수 있다. (소급 불가)

### [체크와 체크메이트](https://www.youtube.com/watch?v=fi9ipY1FDAE&list=PL6jflZl2KneXIn0vTJugSxUEvwg3ati2B&index=4)

**체스 경기를 이기는 4가지 방법**

- 상대가 기권한다
- 상대가 주어진 시간을 다 사용한다
- 상대가 반칙 및 부정행위를 한다(실격)
- 상대의 킹을 체크메이트 한다.

즉 체스 경기의 목적은 체크메이트를 하는 것이다.

**체크 Check**
: 킹에 대한 공격. 즉, 다음 수에 킹이 잡힐 수 있는 상황.

체크를 피하기 위해서는 당연히 다음 수에 킹이 잡히지 않도록 해야 한다.

1. 킹을 공격할 수 있는 상대 말을 잡는다
2. 킹이 잡힐 수 있는 위치에서 벗어난다
3. 킹이 공격받는 길목을 차단한다

**체크메이트**
: 피할 수 없는 체크. 승패가 정해지는 상황.

### [무승부와 스테일메이트](https://www.youtube.com/watch?v=237Ys-xdV4Y&list=PL6jflZl2KneXIn0vTJugSxUEvwg3ati2B&index=5)

주기물과 부기물

- 주기물 Major Pieces : 퀸, 룩
  - 자신과 킹 만으로 상대 킹을 체크메이트 시킬 수 있는 말.
- 부기물 Minor Pieces : 비숍, 나이트
  - 자신과 킹 만으로 상대 킹을 체크메이트 시킬 수 없는 말.

**체스 경기가 비기는 경우(무승부)**

- 서로 무승부로 하도록 합의함
- 기물부족 무승부
  : 서로 킹만 남은 상황 또는 킹과 부기물만 남은 상황. (체크메이트가 불가능)
- 50 move rule
  : 50수 동안 체크메이트가 나오지 않으면 무승부가 된다 
  - 상대 말을 잡게 되면 move count가 1로 돌아간다
    즉 말이 별로 남지 않은 상황에서만 적용된다
- 3회 동형 반복 무승부 3 fold Repetition
  : 같은 패턴의 공격/방어를 3번 반복한 경우 무승부가 될 수 있다
- 스테일메이트 Stalemate
  : 내 차례가 됐지만 더 이상 말을 움직일 수 있는 수가 없을 떄 무승부가 될 수 있다





---



## TDD와 테스트코드

**TDD (Test-Driven Development, 테스트 주도 개발).**



### 자바 main메소드

: 프로그램을 시작하고, 구현한 프로그램을 테스트하는 용도로 사용한다.

- production code : 프로그램 구현을 담당하는 코드

- test code : production code가 정상 동작하는지를 확인하는 코드

but..

### main메소드로 테스트하는 경우의 문제점

- 클래스 및 main메소드가 커져서 복잡도가 증가한다
- 한 메소드에 여러 테스트코드가 있어 어떤 테스트가 이루어진 것인지 알기 어렵다
- 테스트 결과를 콘솔에서 일일이 사람이 확인해야 한다
- 테스트코드가 pruduction code와 함께 배포될 수 있다

### JUnit과 AssertJ

**JUnit**
: 테스트코드를 쉽게 사용할 수 있는 자바 라이브러리. (단위 테스트 프레임워크의 하나)

**AssertJ**
: 다양한 assertion을 제공하는 자바 라이브러리.

- 테스트 코드가 왼쪽에서 오른쪽으로 자연스럽게 읽히도록 하는 메소드를 제공한다.
  즉, 에러메시지와 테스트코드의 가독성을 크게 높여준다.
  (JUnit이 제공하는메소드를 사용할 때보다 가독성이 훨씬 높아진다)





---



