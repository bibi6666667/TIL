**[210218]**



> 오늘은 enum에 대해 수업한 날이었다.
>
> enum이 무엇인지 대충 알기만 하는 수준이었어서 기본서를 보며 공부해 보았다.





# 자바 enum

### enum (열거형) 이란?

: 서로 연관된 여러 상수를 정의할 수 있는 자료형(클래스).

- `java.lang.Enum`클래스가 모든 enum의 조상 클래스이다.

- 상수들의 값, 그리고 타입까지 관리할 수 있다.

### enum의 특징

- enum의 생성자는 항상 private이다. 즉, enum의 생성자는 내부적으로 private으로 선언되어 있기 때문에 외부에서 호출할 수 없다.
  - 우리가 enum 인스턴스를 만드는 게 아닌 JVM이 직접 만들어 주기 때문.
    값을 바꿀 수 없게 하기 위해 생성자가 항상 private이다.
- enum클래스의 enum상수를 저장하기 위한 인스턴스 변수는 보통  `final`이어야 한다.
- 같은 enum타입끼리만 비교가 가능하며, 그렇지 않으면 컴파일 에러가 발생한다.

### enum 선언하기

- `enum enum명 { 상수1이름, 상수2이름, ... }` 와 같이 선언한다.

  - 기본적으로 `상수1이름의 순서` = 0, `상수2이름의 순서` = 1 .. 로 할당된다.

- `enum enum명 { 상수1이름(상수1값), 상수2이름(상수2값) ... ; }` 처럼 enum상수의 값을 지정할 수 있다.

  - 값을 지정한 경우 마지막 상수에 `;`를 붙여야 한다.

- `enum enum명 { 상수1이름(상수1값1, 상수1값2), 상수2이름(상수2값1, 상수2값2) ... ; }` 처럼 enum상수에 여러 값을 지정할 수도 있다.

  - `값1`, `값2` 를 받기 위한 enum 인스턴스변수와 생성자를 추가해 사용한다.

    ※ enum상수들을 모두 정의한 다음에 다른 멤버들을 추가해야 한다.

보통 아래와 같은 포맷으로 enum클래스를 만들어 사용한다.

```java
public enum Color { // enum클래스 선언
    WHITE("white", 0), BLACK("black", 1); // enum상수와 각 상수값 할당
    
    private final String value; // enum상수값을 넣기 위한 인스턴스변수
    private final int index;
    
    Color(String color, int number) { // enum상수값을 저장하는 생성자
        this.value = color;
        this.index = number;
    }
    
    public String getValue() { // 외부에서 value를 얻을 수 있게 하는 getter
        return value;
    }
    
    public int getIndex() {
        return index;
    }
}
```

- 다른 클래스에서도 그 enum을 사용한다면 위와 같이 enum클래스를 밖으로 분리한다.
- 반면 해당 클래스에서만 그 enum을 사용한다면 enum클래스를 내부 클래스로 선언한다.

### enum 사용하기

`enum명.상수명` 와 같이 사용한다.
(클래스의 static변수를 사용하는 방식과 동일함)

### enum의 장점

- 자바의 열거형은 Type-safe하다.
  즉, 실제 값은 같아도 타입이 다르면 컴파일 에러가 발생한다.

- 상수로 선언하면 상수가 바뀌었을 때, 그 상수를 참조한 모든 소스를 다시 컴파일해야 한다.
  반면 enum으로 선언한 상수는 enum만 다시 컴파일하면 된다.
- enum 상수 간 비교에 `==`를 사용할 수 있다.
  따라서 `equals()`보다 빠른 연산이 가능하다.
- `>`. `<` 비교연산자는 사용할 수 없지만 `compareTo()`를 사용할 수 있다.
  - `compareTo()`
    : 두 비교대상이 같으면 0, 왼쪽이 크면 양수, 왼쪽이 작으면 음수를 반환함.
    두 대상의 차이만큼 양수/음수를 반환함.
- switch조건식에 enum상수를 직접 사용할 수 있다.
  - 이 때 `enum명.상수명`이 아닌 `상수명`만 적는다.
- 상수를 직접 선언해 사용할 때에 비해 코드가 간결해진다.
- 상수를 관리하는 클래스를 명확하게 할 수 있다 (역할분리)

### java.lang.Enum의 메소드

- `values()` : enum의 모든 상수를 배열에 담아 반환함.
- `valueOf(String name)` : `name`과 일치하는 enum상수를 반환함.
- `valueOf(Class<T> enumType, String name)` : 지정한 enum에서 `name`과 일치하는 enum상수를 반환함.
- `name()` : enum상수의 이름을 문자열로 반환함.
- `ordinal()` : enum상수가 정의된 순서를 정수로 반환함(0부터 시작).
  - 사용하지 않는 게 좋다. 특히, `ordinal()`값을 enum상수의 값으로 사용하지 않는 게 좋다.

### enum의 내부구조

enum의 enum상수 하나하나는 enum 그 자신의 객체로 이루어져 있다.

예를 들어,

`enum Fruit { APPLE, KIWI, GRAPE }` 이 코드는 아래 코드와 같은 구조이다.

```java
class Fruit {
	static final Fruit APPLE = new Fruit("APPLE");
	static final Fruit KIWI = new Fruit("KIWI");
	static final Fruit GRAPE = new Fruit("GRAPE");
}
```

Fruit클래스의 static final 상수들의 값은 객체의 주소값이고, 변하지 않기 때문에 `==`로 비교가 가능하다.

### enum 기타 지식

- DB에서 enum을 사용할 때는 `int`또는 `varchar`로 저장해 사용하는 게 좋다.
  (MySQL의 경우)enum타입이 따로 있지만, 사용하지 않아야 한다. [참고](https://velog.io/@leejh3224/%EB%B2%88%EC%97%AD-MySQL%EC%9D%98-ENUM-%ED%83%80%EC%9E%85%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EC%A7%80-%EB%A7%90%EC%95%84%EC%95%BC-%ED%95%A0-8%EA%B0%80%EC%A7%80-%EC%9D%B4%EC%9C%A0)
- enum은 ValueObject에 해당한다.





# 자바 Value Object (VO)

ValueObject는 값으로만 이루어진 객체이다.

- (객체지향적으로) unique한 구분자가 없다.
  객체를 식별하는 게 무의미하기 떄문. (단순한 ''값''이기 때문에.)
  - 일반 객체는 각각 unique한 구분자(해시코드, 즉 주소값 등)가 있다.

- value를 담는 게 주 목적이다. value는 상태가 변하지 않는다.







# `==`와 `equals()`의 차이

- `==` 는 객체의 주솟값이 같은지를 비교한다
  - `==`은 객체에 사용할 수는 있지만 우리가 원하는 결과가 나오지 않는다.
- `equals()`는 객체의 값이 같은지 비교한다.
  - `Object`의 `equals()`메소드 내의 로직으로 비교한다.





---



내 질문 - 두 가지 이유가 있다.

- 대부분의 경우 ArrayList만이 제공하는 기능을 쓰지 않는다.
  - 리스트를 쓰고 싶은데 그 중에 어레이리스트로 그냥 선언하는 것.
  - 리스트로 선언해야 리스트에서 제공하는 메소드까지 사용 가능
- 다른 리스트로 바꾸고 싶을 때 
- 

자바에서 쓰는 자료구조는 `List<Integer> list = new ArrayList<>()`

`Map` 그리고 `Set` 세 개만 거의 사용한다.



`a = 3, b = 5` 에서

argument = actual parameter = 3,5

parameter = a, b



자바 메소드 배치하기

public은 위에, private는 아래에

자주 쓰는 건 위에, 그렇지 않은 건 아래에

메소드 이름으로 행동을 유추할 수 있게 하는 게 좋다.

가급적 함수 내부에서 외부의 값을 변경하는 행동은 지양하는 게 좋다.