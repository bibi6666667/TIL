**[210125]**



> *벌써 CS10의 7번째 미션이라는 게 신기하다. 분명 하루가 일주일 같았는데 이제 거의 끝나가다니:open_mouth:*
> *오늘 미션도 어렵지만, 얼핏 봐도 중요해 보여서 열심히 배우고 익혀야겠다는 생각을 했다.*
>
> *그리고 최근 미션을 하면서 공부만 하다가 미션을 다 못 한 적이 많아서, 이번에는 시간을 (대충) 1:1정도로 분배해 보았다 - 훨씬 좋은 것 같다!*





#### 호눅스의 간단 미션 설명

- 이번 미션의 핵심 키워드는 **비동기**.
- 자바는.. ''자바 비동기''로 검색을 해서 뭔가 고르기..
- 동기&비동기, 블록&논블록의 차이는? 
- 동기-블록, 동기-논블록, 비동기-블록, 비동기-논블록 특징 알아보기.
- 그런 다음 과제를 비동기로 수행하기.

> (예시)
> 동기 카페 
>
> - 주문을 하면 커피가 나올 때까지 그 자리에서 기다려야 함
>
> 비동기 카페 
>
> - 주문을 하고 다른 일을 아무거나 하고 있다가 진동벨이 울리면 받으러 간다.
> - 이벤트(=진동벨)가 발생하면 받으러 갈 수 있다.
> - 이벤트핸들러가 있으면 이벤트를 감지? 하고 커피를 받으러 간다.



---



# TIL



### [비동기 프로그래밍이란?](https://www.youtube.com/watch?v=m0icCqHY39U)

#### 동기 Synchronous

- 코드가 반드시 작성된 순서대로 실행된다.

> 짜장면 배달부가 배달을 할 때,
> 짜장면을 배달하고 손님이 다 먹을 때까지 기다린 다음 
> 그 그릇을 수거해 다음 장소로 이동한다.
>
> 배달부는 ''배달-그릇수거-다음 배달'' 순서로 일한다.
> (단점) 배달한 뒤 손님이 짜장면을 다 먹을 때까지 배달부는 아무것도 하지 못하고 기다려야 한다.

#### 비동기 Asynchronous

- 코드가 반드시 순서대로 실행되지는 않는다.

> 짜장면 배달부는 손님에게 짜장면을 배달하고, 기다리지 않고 다음 배달을 처리하러 간다.
> 손님이 짜장면을 다 먹고 나면 처리할 일(그릇 수거)만 등록해 둔다.
>
> 짜장면을 먹는 것은 손님의 일 / 배달하는 것은 배달부의 일. 
> 즉 서로 다른 쓰레드에서 이뤄지는 일이다.

#### 콜백 함수 callback function

- (비동기로) 일을 마친 뒤 실행할 다음 업무를 미리 등록해 놓는 것.

> 손님이 짜장면을 다 먹은 뒤 '다 먹었다'고 배달부에게 알려주면, 
> 배달부가 와서 그릇 수거를 할 수 있다.



---



### [동기(싱크)&비동기(어싱크), 블록&논블록](https://www.youtube.com/watch?v=IdpkfygWIMk)

> 자바는 동기, 블록 기반 언어이다.
> 반면 자바스크립트는 비동기, 논블록 기반 언어이다.

#### 블록, 논블록

```java
public void A() { // 호출자
    a();
    // A's codes
}

public void a() {
	// a's codes   
}
```

- **블록**
  호출자 A가 a의 리턴값 없이는 A 자신의 일을 계속할 수 없게 막는 것(block).
  즉 호출한 메소드 a의 리턴값이 있어야만 호출자 A의 다음 코드를 실행할 수 있다.
- **논블록**
  호출자 A가 a의 리턴값 없이도 A 자신의 일을 계속할 수 있도록 막지 않는 것(non-block).
  즉 호출한 메소드 a의 리턴값이 없어도 호출자 A의 다음 코드를 실행할 수 있다.
  (보통 a는 별개의 쓰레드를 통해 / 단일 쓰레드를 분할해서 처리한다)

#### 동기&비동기 Sychronous&Asynchronous

- syn 은 '함께', chrono는 '시간'이라는 뜻이다.
  **synchronous 동기(동기화)** = 시간이 일치하는 것. 
  ''두 대상의 시간이 일치해서 같은 데이터를 가지고 있는가''
  - 함수A의 끝과 함수B의 시작이 동일하다.
  - 제어권 반환&결과값 전달의 시작과 끝이 동일하다.
- a는 부정형 접미사이다.
  **asynchronous 비동기** = 시간이 일치하지 않는 것.
  ''두 대상의 시간이 일치하지 않아 서로 다른 데이터를 가지고 있는가''
  - 함수A의 끝과 함수B의 시작이 동일하지 않다.
  - 제어권 반환&결과값 전달의 시작과 끝이 동일하지 않다.

#### 그렇다면 블록 == 동기, 논블록 == 비동기 아닌가?

비슷한 면이 많긴 하지만, 둘은 관점이 다르다.

- 블록/논블록은 '**제어권**' 관점,
  - 블록 : 메소드의 제어권을 한 시점에 한 곳에서만 가짐. 
    (프로세스 작업이 한 번에 한 곳에서만 이루어짐.)
  - 논블록 : 메소드의 제어권을 한 시점에 여러 곳에서 가질 수 있음. 
    (프로세스 작업이 한 시점에 여러 곳에서 이루어짐.)
- 동기/비동기는 '(제어권을 반환하는) **시간**' 관점이다.
  - 동기 : 제어권 반환과 결과값 전달의 시점이 같음.
  - 비동기 : 제어권 반환과 결과값 전달의 시점이 다름.

#### 동기-논블록의 예에는 어떤 것이 있는가?

논블록 상태에서의 결과값이 '메소드가 완료된 리턴값'이 아닐 때.

> 호출자A에 의해 호출된 함수a가 작업을 하다가, 작업 도중에 제어권을 반환한다.
> 이 때 작업은 끝나지 않았으므로 리턴값은 아직 없다. 
> 즉 "작업 완료되지 않음"이라는 결과를 내며 제어권을 반환하는 것이다.
> → 제어권 반환과 결과값 전달이 동시에 이루어짐 : 동기.
> → 작업이 끝나지 않았는데 반환했음 : 논블럭
>
> 이런 경우, 호출자A는 호출된 함수a를 계속 호출하며 a의 작업이 완료되었는지 확인한다.
> a의 작업이 완료되어 결과값이 리턴되면, 리턴값을 가지고 호출자A의 다음 작업을 할 수 있다.

자바 Future 함수가 이런 예이다.

#### 그러나..

모든 대상에 대해 동기-블록, 동기-논블록, 비동기-블록, 비동기-논블록 을 뚜렷하게 나누기는 힘들다.
코드의 **각 부분마다 서로 다르게 블록/동기/논블록/비동기 방식으로 진행될 수 있기 때문**.

그냥 블록&논블록, 동기&비동기 라는 개념을 아는 것이 중요하다.



---



### [프로세스&스레드, 동시성&병렬성](https://www.youtube.com/watch?v=iks_Xb9DtTM)

#### 프로세스

: 실행 중인 프로그램. (프로그램이 실행되는 상태)

**멀티태스킹 multitasking**

: 컴퓨터가 프로세스 여러 개를 동시에 실행하는 것.
운영체제가 여러 개의 프로세스를 동시에 실행해 주기 떄문에 멀티태스킹이 가능하다.

#### 동시성, 병렬성

여러 프로세스를 함께 돌리는 작업은 동시적 / 병렬적 / 둘의 혼합 으로 이루어진다.

- **동시성 concurrency**(동시 실행)
   : 프로세서 하나가 프로세스 A, B, C, D 를 전환하며 조금씩, 번갈아가면서 진행하는 방식
  
- **context switching(문맥 교환)** : 현재 진행 중인 프로세스를 전환하는 것.
  
  > 컴퓨터가 프로세스 전환(context switching)을 엄청나게 빠른 속도로 하기 때문에,
  > 프로세스들은 실제로 동시에 실행되지 않지만
> 사람들은 프로세스들이 '동시에' 진행되고 있다고 느끼는 것이다.
   
- **병렬성 parallelism**
  : 프로세서 하나에 **코어** 여러 개를 가지고, 각 코어가 각 프로세스를 동시에 진행하는 방식.
  멀티코어 프로세서가 있는 컴퓨터에서 할 수 있는 방식이다 (듀얼코어, 쿼드코어 .. )
  (CPU의 발전에 한계(발열 등)가 생기자, 코어를 여러 개 달아서 작업을 분담하도록 했다.)

#### 스레드 thread

한 프로세스 내에서도 여러 작업이 동시에 수행되고 있다.
: 프로세스 내의 (여러 작업의) 실행단위를 스레드라고 한다.

> 예를 들어 크롬 브라우저라는 하나의 프로세스 내에서,
> 웹서핑도 해야 하고
> 게임 다운로드도 받아야 하고 
> 유튜브 영상 데이터를 받으면서 동시에 실행(재생)해야 한다. 

**스레드의..**

- (장점) 속도, 효율 면에서 좋다.

- (단점) 프로세스의 자원에 여러 스레드가 동시에 접근하면 에러가 생길 수 있다.

  > 이런 에러를 예측, 방지해야 하기 때문에 스레드를 사용하는 프로그래밍은 개발과 유지보수가 까다롭다. 
  > -> 이를 도와주는 도구, 프로그래밍도 발전했다(람다, 함수형프로그래밍, 클로저 ..)

#### 프로세스와 스레드의 차이

프로세스는 컴퓨터의 자원 (메모리 등)을 분할해서 사용한다.
반면 스레드는 프로세스에 주어진 자원 전체를 공유하여 사용한다.





---



### 1/25 오늘의 영단어

> **concurrency** (n) (컴퓨터) 동시 실행. 동시성.
>
> **concur** (v) 동의하다. 의견이 일치하다.

> **parallelism** (n) (컴퓨터)병렬성 / 유사성.
>
> **parallel** (a) 평행한 / 유사한.

> **synchronous** (a) 동기의. 동시에 발생/존재하는.
>
> **asynchronous** (a) 비동기의. 동시에 발생/존재하지 않는.

> **callback** (n) 회신. 콜백.
>
> **call back** (v) 다시 전화를 하다 / 다시 부르다.