**[210405]**

- 오늘 한 일
  - 힐링 타임(휴식)
  - 저녁에 조금 공부(AWS 입문 인강)



---



## (데모) EC2 윈도우 서버 만들어 보기

1. 회원가입
2. AWS 웹사이트 접속
   1. 리전(지역)선택 - 각 지역별로 사용할 수 있는 서비스가 다르다
3. IAM서비스를 이용한 로그인
4. EC2 윈도우 인스턴스 생성
   1. 키 페어 = 서버에 접속할 수 있는 암호 파일. 이걸로 로그인해야 함
5. 원격 접속
   1. 서버를 켜고 작업 - windows 암호 가져오기 - 키페어 파일 업로드
   2. 퍼블릭 DNS, 암호 복사
   3. 윈도우 '원격 데스크톱 연결'을 실행하고 퍼블릭DNS와 암호 붙여넣은 후 연결
6. 서버를 더 이상 사용하지 않으면 '인스턴스 중지'를, 완전히 없애려면 '인스턴스 종료'를 누른다

## 클라우드 vs 서버 가격 비교

IaaS = Infrastructure as a Service

- IaaS의 구성요소 중 가장 중요한 것은 컴퓨팅, 스토리지, 네트워크.
- AWS에서는 컴퓨팅=EC2(CPU+메모리), 스토리지=EBS(블록저장장치SSD), 네트워크=VPC

### PC의 수명 주기

구매 - 유지보수 - 사망/교체.

PC를 구입, 사용, 관리하는 것은 꽤 많은 시간, 비용이 드는 일이다.

### AWS Simple Monthly Calculator

= AWS 서버 가격 비교 사이트.

**클라우드는 '잘 배우고 잘 설계하면' 실제 서버보다 저렴하게 이용할 수 있다.**

**또, 돈보다 중요한 것은 '탄력성', '내구도', '안정성'이다.**

### 탄력성, 내구성, 안정성

- 탄력성 : 서비스 규모에 맞게 IT인프라를 확장/축소할 수 있는가?

- 내구성 : 오류 및 사고발생 시점에 데이터가 안전하게 저장되는가?

- 안정성 : 다운타임/유지보수 시간을 최소화하고 서비스가 정상적으로 유지되는가?

## Dropbox와 S3 

S3 : AWS의 스토리지 서비스 중 하나. (EBS, S3 ..)

### Amazon S3

- Simple Storage Service
- 아주 안전한 Object Storage이다.
- 객체 저장소(Object Storage) : 파일 단위로 upload, download 저장방식
- 99.999999999% (eleven nine)의 내구성 : 100%라고 보면 된다.
- 높은 가용성
- 주로 비즈니스용, 앱 개발용으로 사용됨. (개인 사용자는 보통 Dropbox, 구글 드라이브 등 사용)

### 가용성, 내구성

- 가용성: 서비스가 항상 사용 가능한지.
- 내구성 : 데이터가 안전하게 저장되는지.

### AWS의 스토리지 서비스

- EBS : EC2와 연결해 사용하는 SSD같은 서비스. (= Block Device)
- S3 : 드롭박스처럼 파일 업로드/다운로드가 가능한 인터넷 스토리지 서비스
  - 가장 중요한 서비스

## (데모) AWS S3 간단 데모

S3 간단 데모

S3는 굉장히 기능이 많고 복잡한 서비스이다.

주로 개발 용도(개발자 및 IT회사를 위한 서비스)로 사용한다.

일반인이 사용하는 가장 유사한 서비스로는 Dropbox가 있다.

Dropbox보다 훨씬 복잡하다. (Dropbox가 S3를 이용해 만들어져 있다)

- 버킷 생성 및 관리 콘솔에서 파일 업로드 / 다운로드
- Public Access인터넷 공유 기능 사용해 보기
- 정적 html파일 기능 사용해 보기
- CLI에서 사용해 보기

### 버킷 bucket

S3에서 최상위 컨테이너. 파일을 담는 그릇(=양동이)이다.

- '버킷 만들기'로 버킷 생성
  - 리전 : 서울
- [퍼블릭 엑세스 해제]로 공유 기능 사용하기
- 폴더 생성 - 파일 추가 - 파일 업로드

### 인터넷 공유

- S3의 모든 객체는 '객체 URL'을 가지고 있기 때문에 인터넷 상에서 공유가 가능하다.

### 정적 html파일 기능

- S3가 웹 서버인 것처럼 사용할 수 있다.
- 즉 html파일을 보여줄 수 있다.

### CLI에서 사용 가능

`$ aws s3 cp 파일명.확장자 s3://s3폴더명 --profile ed1`

: 로컬 파일을 s3에 업로드.

※ 처음에는 권한이 없어 '퍼블릭으로 설정'을 해야 한다.

## 인터넷의 원리와 클라우드 네트워크

인터넷

'인터넷의 원리'로 구글링해본다.

`www.naver.com`으로 접속하면 무슨 일이 일어날까?

### 네트워크와 인터넷

네트워크 network

: 두 대 이상의 기기들이 연결되어서 통신할 수 있는 환경

인터넷 internet = inter-network

: 네트워크와 네트워크를 연결한 것.

- 인터넷 프로토콜(TCP/IP)를 통해 연결된 글로벌 네트워크
- 최근에는 www(word wide web) = 인터넷 이라고 생각하는 경향이 있다.
- 여러 네트워크 망들이 모여 전 세계를 연결한 거대한 망을 형성함.
- 특징 : 관리 주체가 없다. (인터넷은 특정 국가 / 기업이 관리하는 게 아니다.)

### 클라이언트와 서버

- 클라이언트 client

  : 네트워크에서 서비스를 **요청**하는 기기.

- 서버 server

  : 서비스를 제공해 주는 기기.

  - 클라이언트의 요청(request)에 서버가 응답(response)한다.

- 클라이언트 : 서버 (n : 1 관계)

  - 보통 한 대의 서버로 여러 명의 클라이언트 요청을 처리.

### IP, URL, DNS

- IP (IPv4)

  : 각 기기에 부여되는 고유한 번호 (4byte)

  - 예 : 192.168.53.1 (1byte = 0~255까지의 숫자 표현 가능)

- URL

  : IP에 대응되는 고유 주소 식별자.

  - `http://www.naver.com`

- DNS Domain Name System

  : URL에 해당하는 IP를 알려주는 시스템.

  - 실제 주소는 IP인데 사람이 읽을 수 있도록 URL로 사용한다.

    이 때 URL을 컴퓨터가 인식하는 IP로 바꾸는 시스템을 DNS라고 한다.

### www.naver.com을 입력하면..

1. 브라우저에 `http://www.naver.com` URL 입력
2. DNS서버가 `www.naver.com`의 IP를 알려줌
3. NAVER의 IP주소로 해당 문서(html)을 달라는 요청(req)을 보냄
4. NAVER서버는 해당 html문서를 응답해 줌
5. 사용자 PC의 IP로 해당 html 도착
6. 사용자 PC의 브라우저가 화면에 html 내용을 보여줌

### 인터넷 데이터(패킷)의 여행

1. 핸드폰으로 네이버에 접속한다.

2. 집의 공유기로 패킷(요청)을 보낸다.

   -------------------------------------------여기까지가 홈 네트워크

3. 인터넷 세상으로 가서 수많은 기기들을 거친다.

4. 최단거리 알고리즘을 통해 물리적으로 가장 가까운 거리를 계산해 네이버 서버로 패킷이 이동한다. (패킷이 물리적으로 연결이 되어 있어야 한다)

   -------------------------------------------여기까지가 인터넷

5. 패킷이 네이버 서버에 도착한다.

6. 네이버 서버는 요청에 대한 응답으로 html파일을 보낸다

   -------------------------------------------여기까지가 회사 네트워크 (사설망)

7. html파일은 다시 인터넷과 공유기를 거쳐 내 핸드폰으로 온다.

즉...

- 클라이언트 : URL로 요청을 보냄
- DNS : URL에 해당하는 IP를 알려줌
- 서버 : 클라이언트의 요청에 응답 (원하는 html 제공)
- 서버 네트워크 : 서비스하는 쪽의 서버들이 연결되어 있는 망. (주로 사설망이라고 함)