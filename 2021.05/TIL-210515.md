**[210515]**



# 생활코딩 - OAuth 2.0

## 1. [수업 소개](https://opentutorials.org/course/3405)



> 수업 소개
>
> 사용자가 가입된 서비스의 API에 접근하기 위해서는 사용자로부터 권한을 위임 받아야 합니다. 이 때 사용자의 패스워드 없이도 권한을 위임 받을 수 있는 방법이 필요합니다. 이를 위해서 고안된 기술이 OAuth입니다. 오늘날 많은 API들이 OAuth를 통해서 상호 연동을 지원하고 있습니다. 



> 수업 대상
>
> 구글, 페이스북과 같은 서비스의 API에 사용자 대신에 접근하고 싶은 분들을 위한 수업입니다. 또 아래 그림과 같이 다른 서비스로 로그인 하기 기능을 구현하는데도 필수적으로 필요한 기능입니다. 



### OAuth란?

- 나의 서비스

- 사용자 (나의 서비스를 사용하는 사람들)

- 그들의 서비스 (구글, 페이스북, 트위터 ... )

사용자가 나의 서비스를 통해 그들의 서비스를 이용할 수 있게 하는 기술.

(ex 사용자가 내 서비스를 통해 구글 캘린더에 일정을 기록할 수 있게 함)

그러려면 그들의 서비스의 사용자 ID, PW를 알아야 한다. - 매우 간단하고 강력한 방법.

하지만 그만큼 위험한 방법이다.

사용자, 그들의 서비스 - 어떻게 나의 서비스를 믿고 그들의 서비스의 ID,PW를 줄 것인가?

→ OAuth는 이러한 문제를 해결해 준다.

- 그들의 서비스 : 사용자의 요청에 의해 **accessTocken**을 발급한다.

  - 사용자의 ID, PW를 넘겨주지 않아도 된다.
  - 그들의 서비스의 모든 기능이 아닌, 나의 서비스에 필요한 필수적인 부분만 사용하도록 허용할 수 있다.

- 나의 서비스 : 그들의 서비스가 발급한 accessTocken을 획득한 다음, 그 accessTocken을 통해 그들의 서비스에 접근할 수 있다.

  - 그들의 서비스에 접근해 CRUD를 할 수 있다.

  - 사용자의 ID,PW 관리 부담이 없다.

  - 나의 서비스에 로그인 할 때에도 ID, PW를 보관하지 않고 그들의 서비스의 accessTocken을 통해 사용자를 식별할 수 있다.

    - Login with Google (구글 아이디로 로그인) 과 같은 기능 구현 가능.

    

## 2. 역할 (Role)

> OAuth에 등장하는 3자에 대한 역할과 용어를 알아보는 시간입니다. 

### OAuth 의 세 주체

- Resource Owner (= User)
  - 우리의 사용자
  - 자원의 소유자
- Client (= Mine)
  - 우리가 만든 서비스 (ex. opentutorials.org)
  - Resource Server로부터 자원을 요청하는g 입장이기 때문에 Client라고 한다.
- Resource Server (= Their)
  - User가 사용하는 또 다른 서비스
  - User는 Their에 회원가입이 되어 있는 상태 (ex. Google, Facebook, Twitter)
  - '우리가 제어하고 싶은 자원을 가지고 있는 서버'라는 의미에서 Resource Server라고 한다.
    - Resource 데이터를 가지고 있는 서버를 말함

- Authorization Server (=Their)
  - Their의 서버 중 인증과 관련 처리를 전담하는 서버를 말함.

이 강의에서는 간결함을 위해 Authorization Server까지 합쳐서 Resource Server로 설명한다.



## 3. 등록 register

> OAuth를 이용해서 Resource Server에 접속하기 위해서는 우선 Resource Server에 등록하는 과정이 필요합니다. 이를 위한 방법을 소개합니다. 

