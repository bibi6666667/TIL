

## 수업 정리 (VPC, NAT)

VPC란?

여러 AWS네트워크들을 묶어서 관리하는 시스템.

vpc를 만드는 이유?

망 분리를 위해 만드는 것이다.

vpc는 무료이다.

각 서비스마다 & 테스트/배포 마다 다른 vpc를 설정해야 한다.

ex) 회사에는 프로덕션 망, 개발 망, 알파 망, 베타 망이 존재한다

​	(DB는 일반적으로 인터넷이 안 된다 - local)

Jump In : 접속 전용 서버

IGW : Internet Gate Way - 기본적으로 열려 있다

### NAT

NAT : DB가 인터넷을 쓰고 싶을 때 사용!

NAT - 공유기가 일종의 NAT를 한다.

사설IP를 공인IP와 매칭해주어 인터넷을 쓸 수 있게 해 준다.

- NAT를 직접 만드는 것은 꽤 복잡하기 때문에 AWS 서비스 중 'NAS 게이트웨이'를 이용할 수 있다. 
  - 하지만 굉장히 비싸다. 만들지 말 것
- SPOF single point of failure - 해당 부분에 오류가 나면 전체 시스템이 죽어버린다.
  - NAT에 부하가 쏠리면 NAT가 SPOF가 될 수 있다..

DB에 인터넷이 필요하면..

1. 필요할 때만 잠시 라우팅 테이블을 바꿔주면 된다. (인터넷 연결된 테이블로)
2. 잠시 동안 탄력적IP 주소를 할당해 준다
3. 할당한 ip주소로 DB에 인터넷을 잠시 연결한다
4. 필요한 작업을 한 뒤 다시 라우팅 테이블을 인터넷 사용 불가능하게 바꾸고, 탄력적IP를 삭제한다



### 서브넷

#### public subnet

#### private subnet 사설망

- 보통 DB가 존재한다
  - 단방향으로만 사용 가능하다.

- 인스턴스 생성 시 웹서버 그룹들만 사용할 수 있게 해 준다







----



프론트에서 어디까지 정보를 관리해 줄 수 있는가??..??



수비) pitch 이후의 정보까지 FE가 취합해 보내줌.

공격) pitch

player log  DB에 기록

1. 매칭

피치 결과 랜덤은 FE , 그 결과를 보내주시겠다.

점수판은 DB에 기록

타석 = pitch의 횟수

