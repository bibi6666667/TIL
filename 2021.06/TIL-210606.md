**[210606]**



## [JWT] 토큰 기반 인증과 JWT

> 출처🙇‍♀️
>
> https://velopert.com/2350

### 토큰 기반 인증을 쓰는 이유 (장점)

- Stateless(무상태) 서버

  > Stateful 서버의 경우 세션 등을 저장해야 함
  >
  > 유저가 로그인 시, 로그인되었다는 상태를 세션에 저장해 사용한다.
  >
  > 세션이 '저장'되어야하므로 서버 메모리/DB 등을 사용하게 됨

  - Stateless 서버는 상태를 유지하지 않고, 클라이언트의 request만으로 작업을 처리.
  - 클라이언트-서버 연결고리가 없기 때문에, 서버의 확장성(Scalability)이 높아짐

- 모바일 어플리케이션에 적합

  - 모바일 앱 API를 만들기 위해서는 쿠키 컨테이너를 사용해야 함
  - 토큰기반인증을 도입하면 간단하게 문제를 해결

- 인증정보를 다른 어플리케이션으로 전달

  - 대표 예시 : OAuth
  - 소셜 계정들을 이용해 다른 웹서비스에서 로그인 가능

### 왜 토큰을 쓰게 되었을까?

토큰기반인증이 나타나게 된 역사.

#### 서버 기반 인증 (Stateful 서버)의 문제점

- 세션
  - : 유저가 인증을 할 때, 서버가 그 기록을 서버에 저장하는 것
  - 세션은 메모리/디스크/DB에 저장할 수 있음. 대부분 메모리에 저장
  - 메모리에 저장 시) 로그인 유저가 많아지면 램이 과부하됨.
  - DB에 저장 시) 역시 유저가 많아지면 DB성능에 영향을 줌
- 확장성
  - 세션을 쓰면 서버 확장이 어려움.
  - 서버 확장 = 서버 사양 업그레이드 가 아닌, 더 많은 트래픽을 감당하기 위해 여러 프로세스를 돌리거나 여러 대의  서버컴퓨터 추가를 의미함
  - 세션을 쓰며 분산 시스템을 설계하려면 매우 복잡하고 어려워짐
- CORS(Cross-Origin Resource Sharing)
  - 세션 관리 시 자주 사용되는 '쿠키'는 단일 도메인 및 서브 도메인에서만 작동하도록 설계됨.
  - 쿠키를 여러 도메인에서 관리하기는 번거로워짐

